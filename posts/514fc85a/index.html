<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#6200ee"><meta name="author" content="Explorer"><meta name="copyright" content="Explorer"><meta name="generator" content="Hexo 6.0.0"><meta name="theme" content="hexo-theme-yun"><title>Arduino IO口使用方法 | explorerの博客</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.2.4/dist/yun/yun-markdown.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prism-theme-vars/base.css"><script src="//at.alicdn.com/t/font_1140697_dxory92pb0h.js" async></script><script src="https://cdn.jsdelivr.net/npm/@unocss/runtime/mini.global.js"></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal() {
  [".post-card",".markdown-body img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
}
document.addEventListener("DOMContentLoaded", initScrollReveal);
document.addEventListener("pjax:success", initScrollReveal);
</script><link class="aplayer-style-marker" rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.css"><script class="aplayer-script-marker" src="https://cdn.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.js" defer></script><script class="meting-script-marker" src="https://cdn.jsdelivr.net/npm/meting@1/dist/Meting.min.js" defer></script><link rel="icon" type="image/png" href="/./favicon.ico"><link rel="mask-icon" href="/./favicon.ico" color="#6200ee"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    window.Yun = {}
    window.CONFIG = {"hostname":"ccsu.top","root":"/","title":["Wu","Shuai","の","Blog"],"version":"1.8.8","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}.","hits":"${hits} results found","hits_time":"${hits} results found in ${time} ms"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://v1.hitokoto.cn","hitokoto":true},"local_search":{"path":"/search.xml"},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]},"waline":{"config":{"enable":true,"serverURL":"https://blog-api-seven-vert.vercel.app/","comment":false,"visitor":false,"emoji":["https://cdn.jsdelivr.net/gh/walinejs/emojis@latest/bilibili/","https://cdn.jsdelivr.net/gh/walinejs/emojis@latest/weibo/","https://cdn.jsdelivr.net/gh/walinejs/emojis@latest/qq/"],"locale":{"placeholder":"2506812280@qq.com"},"requiredMeta":["nick"],"el":"#waline","lang":"en","path":"/posts/514fc85a/"},"cdn":"https://cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js","dark":"html.dark"},"vendors":{"darken":"https://cdn.jsdelivr.net/npm/darken@1.5.0"}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/hexo-theme-yun.js" type="module"></script><link rel="alternate" href="/atom.xml" title="explorerの博客" type="application/atom+xml"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin><script async src="https://www.googletagmanager.com/gtag/js?id=G-BMBD00SVV4"></script><script>if (CONFIG.hostname === location.hostname) {
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-BMBD00SVV4');
}</script><script>(function(){
  var bp = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  if (curProtocol === 'https') {
    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else {
    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(bp, s);
})();</script><!-- Google Tag Manager --><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-M9KWR9L');</script><!-- End Google Tag Manager --><meta name="description" content="数字输入输出在使用输入或输出功能前，你需要先通过pinMode() 函数配置引脚的模式为输入模式或输出模式。 端口初始化函数&#x2F;&#x2F;端口初始化 pinMode(pin, mode) void pinMode(uint8_t, uint8_t);  参数 pin: 为指定配置的引脚编号  mode:  为指定的配置模式 通常可用模式有三种:  INPUT: 输入模式 (DDRx&#x3D;0xFF) O">
<meta property="og:type" content="article">
<meta property="og:title" content="Arduino IO口使用方法">
<meta property="og:url" content="http://ccsu.top/posts/514fc85a/index.html">
<meta property="og:site_name" content="explorerの博客">
<meta property="og:description" content="数字输入输出在使用输入或输出功能前，你需要先通过pinMode() 函数配置引脚的模式为输入模式或输出模式。 端口初始化函数&#x2F;&#x2F;端口初始化 pinMode(pin, mode) void pinMode(uint8_t, uint8_t);  参数 pin: 为指定配置的引脚编号  mode:  为指定的配置模式 通常可用模式有三种:  INPUT: 输入模式 (DDRx&#x3D;0xFF) O">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220409225354.jpeg">
<meta property="og:image" content="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220409225507.jpeg">
<meta property="og:image" content="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220409225600.jpeg">
<meta property="og:image" content="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220409225657.jpeg">
<meta property="og:image" content="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220409225703.jpeg">
<meta property="og:image" content="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220409230024.jpeg">
<meta property="og:image" content="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220409230024.jpeg">
<meta property="og:image" content="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220409225902.jpeg">
<meta property="og:image" content="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220409230045.jpeg">
<meta property="og:image" content="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220409230007.jpeg">
<meta property="og:image" content="https://img-blog.csdn.net/20151216230204010">
<meta property="og:image" content="https://img-blog.csdn.net/20151216230345691">
<meta property="article:published_time" content="2022-04-09T14:18:00.000Z">
<meta property="article:modified_time" content="2022-05-09T01:59:12.405Z">
<meta property="article:author" content="Explorer">
<meta property="article:tag" content="GPIO">
<meta property="article:tag" content="Arduino">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220409225354.jpeg"><script>(function() {
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
  const setting = localStorage.getItem('darken-mode') || 'auto'
  if (setting === 'dark' || (prefersDark && setting !== 'light'))
    document.documentElement.classList.toggle('dark', true)
})()</script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js" type="module"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js" type="module"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="Table of Contents"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="Overview"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="Explorer"><img width="96" loading="lazy" src="/images/avatar.jpg" alt="Explorer"><span class="site-author-status" title="努力学习">😄</span></a><div class="site-author-name"><a href="/about/">Explorer</a></div><span class="site-name">explorerの博客</span><sub class="site-subtitle"></sub><div class="site-desciption">前路漫漫，当克己，当慎独!</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="Home"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="Archives"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">65</span></a></div><div class="site-state-item"><a href="/categories/" title="Categories"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">16</span></a></div><div class="site-state-item"><a href="/tags/" title="Tags"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">62</span></a></div><a class="site-state-item hty-icon-button" href="/about/" title="留言板"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-clipboard-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="/atom.xml" title="RSS" target="_blank" style="color:orange"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-rss-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/wushuai2000" title="GitHub" target="_blank" style="color:#6e5494"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://music.163.com/#/user/home?id=549838440" title="网易云音乐" target="_blank" style="color:#C20C0C"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-netease-cloud-music-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.zhihu.com/people/huan-ji-91-3/" title="知乎" target="_blank" style="color:#0084FF"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-zhihu-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://space.bilibili.com/345844264" title="哔哩哔哩" target="_blank" style="color:#FF8EB3"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-bilibili-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:2506812280@qq.com" title="E-Mail" target="_blank" style="color:#8E71C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="我的小伙伴们" style="color:dodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-genderless-line"></use></svg></a><a class="links-item hty-icon-button" href="/albums/" title="相册" style="color:dodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-gallery-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E5%AD%97%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA"><span class="toc-number">1.</span> <span class="toc-text">数字输入输出</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AB%AF%E5%8F%A3%E5%88%9D%E5%A7%8B%E5%8C%96%E5%87%BD%E6%95%B0"><span class="toc-number">1.1.</span> <span class="toc-text">端口初始化函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E6%95%B0"><span class="toc-number">1.1.1.</span> <span class="toc-text">参数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E7%94%B5%E5%B9%B3%E5%87%BD%E6%95%B0"><span class="toc-number">1.2.</span> <span class="toc-text">输出电平函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E6%95%B0-1"><span class="toc-number">1.2.1.</span> <span class="toc-text">参数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%BB%E5%8F%96%E7%94%B5%E5%B9%B3%E5%87%BD%E6%95%B0"><span class="toc-number">1.3.</span> <span class="toc-text">读取电平函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E6%95%B0-2"><span class="toc-number">1.3.1.</span> <span class="toc-text">参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-number">1.3.2.</span> <span class="toc-text">返回值</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A8%A1%E6%8B%9F%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA"><span class="toc-number">2.</span> <span class="toc-text">模拟输入输出</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E6%8B%9F%E4%BF%A1%E5%8F%B7%E8%BE%93%E5%85%A5%E5%87%BD%E6%95%B0"><span class="toc-number">2.1.</span> <span class="toc-text">模拟信号输入函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E6%95%B0-3"><span class="toc-number">2.1.1.</span> <span class="toc-text">参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E%E5%80%BC-1"><span class="toc-number">2.1.2.</span> <span class="toc-text">返回值</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E6%8B%9F%E4%BF%A1%E5%8F%B7%E8%BE%93%E5%87%BA%EF%BC%88PWM%EF%BC%89%E5%87%BD%E6%95%B0"><span class="toc-number">2.2.</span> <span class="toc-text">模拟信号输出（PWM）函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E6%95%B0-4"><span class="toc-number">2.2.1.</span> <span class="toc-text">参数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%8E%8B%E8%BE%93%E5%87%BA%E5%87%BD%E6%95%B0"><span class="toc-number">2.3.</span> <span class="toc-text">模拟电压输出函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%9F%E8%83%BD"><span class="toc-number">2.3.1.</span> <span class="toc-text">功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BD%A2%E5%BC%8F"><span class="toc-number">2.3.2.</span> <span class="toc-text">形式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E6%95%B0-5"><span class="toc-number">2.3.3.</span> <span class="toc-text">参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E%E5%80%BC-2"><span class="toc-number">2.3.4.</span> <span class="toc-text">返回值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F"><span class="toc-number">2.3.5.</span> <span class="toc-text">注意</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%AB%98%E7%BA%A7%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA"><span class="toc-number">3.</span> <span class="toc-text">高级输入输出</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BE%93%E5%87%BA50-%E6%96%B9%E6%B3%A2%E5%87%BD%E6%95%B0"><span class="toc-number">3.1.</span> <span class="toc-text">输出50%方波函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95"><span class="toc-number">3.1.1.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E6%95%B0-6"><span class="toc-number">3.1.2.</span> <span class="toc-text">参数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%81%9C%E6%AD%A2%E8%BE%93%E5%87%BA50-%E6%96%B9%E6%B3%A2%E5%87%BD%E6%95%B0"><span class="toc-number">3.2.</span> <span class="toc-text">停止输出50%方波函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-1"><span class="toc-number">3.2.1.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E6%95%B0-7"><span class="toc-number">3.2.2.</span> <span class="toc-text">参数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A3%80%E6%B5%8B%E8%84%89%E5%86%B2%E5%AE%BD%E5%BA%A6%E5%87%BD%E6%95%B0"><span class="toc-number">3.3.</span> <span class="toc-text">检测脉冲宽度函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-2"><span class="toc-number">3.3.1.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E6%95%B0-8"><span class="toc-number">3.3.2.</span> <span class="toc-text">参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E%E5%80%BC-3"><span class="toc-number">3.3.3.</span> <span class="toc-text">返回值</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%96%E9%83%A8%E4%B8%AD%E6%96%AD%E5%87%BD%E6%95%B0"><span class="toc-number">3.4.</span> <span class="toc-text">外部中断函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E6%95%B0-9"><span class="toc-number">3.4.1.</span> <span class="toc-text">参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B"><span class="toc-number">3.4.2.</span> <span class="toc-text">示例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E9%97%AD%E4%B8%AD%E6%96%AD%E5%87%BD%E6%95%B0"><span class="toc-number">3.5.</span> <span class="toc-text">关闭中断函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E6%95%B0-10"><span class="toc-number">3.5.1.</span> <span class="toc-text">参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B-1"><span class="toc-number">3.5.2.</span> <span class="toc-text">示例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A4%96%E9%83%A8%E4%B8%AD%E6%96%AD%E5%AF%84%E5%AD%98%E5%99%A8%E6%A8%A1%E5%BC%8F"><span class="toc-number">4.</span> <span class="toc-text">外部中断寄存器模式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%AD%E6%96%AD%E5%87%BD%E6%95%B0%E6%80%BB%E7%BB%93"><span class="toc-number">4.0.1.</span> <span class="toc-text">中断函数总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B-2"><span class="toc-number">4.1.</span> <span class="toc-text">示例</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%B2%E5%8F%A3"><span class="toc-number">5.</span> <span class="toc-text">串口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%B2%E5%8F%A3%E8%AE%BE%E7%BD%AE"><span class="toc-number">5.1.</span> <span class="toc-text">串口设置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Serial-begin"><span class="toc-number">5.1.1.</span> <span class="toc-text">Serial.begin();</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E"><span class="toc-number">5.1.1.1.</span> <span class="toc-text">说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-3"><span class="toc-number">5.1.1.2.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E6%95%B0-11"><span class="toc-number">5.1.1.3.</span> <span class="toc-text">参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E"><span class="toc-number">5.1.1.4.</span> <span class="toc-text">返回</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B-3"><span class="toc-number">5.1.1.5.</span> <span class="toc-text">示例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Serial-end"><span class="toc-number">5.1.2.</span> <span class="toc-text">Serial.end();</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E-1"><span class="toc-number">5.1.2.1.</span> <span class="toc-text">说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-4"><span class="toc-number">5.1.2.2.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E6%95%B0-12"><span class="toc-number">5.1.2.3.</span> <span class="toc-text">参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E-1"><span class="toc-number">5.1.2.4.</span> <span class="toc-text">返回</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B8%85%E7%A9%BA%E4%B8%B2%E5%8F%A3%E7%BC%93%E5%AD%98"><span class="toc-number">5.2.</span> <span class="toc-text">清空串口缓存</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Serial-flush"><span class="toc-number">5.2.1.</span> <span class="toc-text">Serial.flush();</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E-2"><span class="toc-number">5.2.1.1.</span> <span class="toc-text">说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-5"><span class="toc-number">5.2.1.2.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E6%95%B0-13"><span class="toc-number">5.2.1.3.</span> <span class="toc-text">参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E-2"><span class="toc-number">5.2.1.4.</span> <span class="toc-text">返回</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#while-Serial-read-gt-x3D-0"><span class="toc-number">5.2.2.</span> <span class="toc-text">while(Serial.read()&gt;&#x3D; 0){}</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E-3"><span class="toc-number">5.2.2.1.</span> <span class="toc-text">说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-6"><span class="toc-number">5.2.2.2.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E6%95%B0-14"><span class="toc-number">5.2.2.3.</span> <span class="toc-text">参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E-3"><span class="toc-number">5.2.2.4.</span> <span class="toc-text">返回</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E4%B8%B2%E5%8F%A3%E6%95%B0%E6%8D%AE"><span class="toc-number">5.3.</span> <span class="toc-text">输出串口数据</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Serial-print"><span class="toc-number">5.3.1.</span> <span class="toc-text">Serial.print();</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E-4"><span class="toc-number">5.3.1.1.</span> <span class="toc-text">说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-7"><span class="toc-number">5.3.1.2.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E6%95%B0-15"><span class="toc-number">5.3.1.3.</span> <span class="toc-text">参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B-4"><span class="toc-number">5.3.1.4.</span> <span class="toc-text">示例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Serial-println"><span class="toc-number">5.3.2.</span> <span class="toc-text">Serial.println();</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E-5"><span class="toc-number">5.3.2.1.</span> <span class="toc-text">说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-8"><span class="toc-number">5.3.2.2.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E6%95%B0-16"><span class="toc-number">5.3.2.3.</span> <span class="toc-text">参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E-4"><span class="toc-number">5.3.2.4.</span> <span class="toc-text">返回</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Serial-SerialEvent"><span class="toc-number">5.3.3.</span> <span class="toc-text">Serial.SerialEvent();</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E-6"><span class="toc-number">5.3.3.1.</span> <span class="toc-text">说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-9"><span class="toc-number">5.3.3.2.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E6%95%B0-17"><span class="toc-number">5.3.3.3.</span> <span class="toc-text">参数</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%BB%E4%B8%B2%E5%8F%A3%E7%BC%93%E5%AD%98%E5%8C%BA%E6%95%B0%E6%8D%AE"><span class="toc-number">5.4.</span> <span class="toc-text">读串口缓存区数据</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Serial-available"><span class="toc-number">5.4.1.</span> <span class="toc-text">Serial.available();</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E-7"><span class="toc-number">5.4.1.1.</span> <span class="toc-text">说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-10"><span class="toc-number">5.4.1.2.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E6%95%B0-18"><span class="toc-number">5.4.1.3.</span> <span class="toc-text">参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E-5"><span class="toc-number">5.4.1.4.</span> <span class="toc-text">返回</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B-5"><span class="toc-number">5.4.1.5.</span> <span class="toc-text">示例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Serial-read"><span class="toc-number">5.4.2.</span> <span class="toc-text">Serial.read();</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E-8"><span class="toc-number">5.4.2.1.</span> <span class="toc-text">说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-11"><span class="toc-number">5.4.2.2.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E6%95%B0-19"><span class="toc-number">5.4.2.3.</span> <span class="toc-text">参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E-6"><span class="toc-number">5.4.2.4.</span> <span class="toc-text">返回</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B-6"><span class="toc-number">5.4.2.5.</span> <span class="toc-text">示例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Serial-peek"><span class="toc-number">5.4.3.</span> <span class="toc-text">Serial.peek();</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E-9"><span class="toc-number">5.4.3.1.</span> <span class="toc-text">说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-12"><span class="toc-number">5.4.3.2.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E6%95%B0-20"><span class="toc-number">5.4.3.3.</span> <span class="toc-text">参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E-7"><span class="toc-number">5.4.3.4.</span> <span class="toc-text">返回</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B-7"><span class="toc-number">5.4.3.5.</span> <span class="toc-text">示例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Serial-readBytes-buffer-length"><span class="toc-number">5.4.4.</span> <span class="toc-text">Serial.readBytes(buffer,length);</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E-10"><span class="toc-number">5.4.4.1.</span> <span class="toc-text">说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-13"><span class="toc-number">5.4.4.2.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E6%95%B0-21"><span class="toc-number">5.4.4.3.</span> <span class="toc-text">参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E-8"><span class="toc-number">5.4.4.4.</span> <span class="toc-text">返回</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B-8"><span class="toc-number">5.4.4.5.</span> <span class="toc-text">示例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E7%BB%93%E6%9E%9C"><span class="toc-number">5.4.4.6.</span> <span class="toc-text">实验结果</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Serial-readBytesUntil-character-buffer-length"><span class="toc-number">5.4.5.</span> <span class="toc-text">Serial.readBytesUntil(character,buffer,length);</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E-11"><span class="toc-number">5.4.5.1.</span> <span class="toc-text">说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-14"><span class="toc-number">5.4.5.2.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E6%95%B0-22"><span class="toc-number">5.4.5.3.</span> <span class="toc-text">参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E-9"><span class="toc-number">5.4.5.4.</span> <span class="toc-text">返回</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B-9"><span class="toc-number">5.4.5.5.</span> <span class="toc-text">示例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E7%BB%93%E6%9E%9C-1"><span class="toc-number">5.4.5.6.</span> <span class="toc-text">实验结果</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Serial-readString-%EF%BC%9B"><span class="toc-number">5.4.6.</span> <span class="toc-text">Serial.readString()；</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E-12"><span class="toc-number">5.4.6.1.</span> <span class="toc-text">说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-15"><span class="toc-number">5.4.6.2.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E6%95%B0-23"><span class="toc-number">5.4.6.3.</span> <span class="toc-text">参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E-10"><span class="toc-number">5.4.6.4.</span> <span class="toc-text">返回</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B-10"><span class="toc-number">5.4.6.5.</span> <span class="toc-text">示例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E7%BB%93%E6%9E%9C-2"><span class="toc-number">5.4.6.6.</span> <span class="toc-text">实验结果</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Serial-readStringUntil"><span class="toc-number">5.4.7.</span> <span class="toc-text">Serial.readStringUntil();</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E-13"><span class="toc-number">5.4.7.1.</span> <span class="toc-text">说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-16"><span class="toc-number">5.4.7.2.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E6%95%B0-24"><span class="toc-number">5.4.7.3.</span> <span class="toc-text">参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E-11"><span class="toc-number">5.4.7.4.</span> <span class="toc-text">返回</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B-11"><span class="toc-number">5.4.7.5.</span> <span class="toc-text">示例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E7%BB%93%E6%9E%9C-3"><span class="toc-number">5.4.7.6.</span> <span class="toc-text">实验结果</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Serial-parseFloat"><span class="toc-number">5.4.8.</span> <span class="toc-text">Serial.parseFloat();</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E-14"><span class="toc-number">5.4.8.1.</span> <span class="toc-text">说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-17"><span class="toc-number">5.4.8.2.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E6%95%B0-25"><span class="toc-number">5.4.8.3.</span> <span class="toc-text">参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E-12"><span class="toc-number">5.4.8.4.</span> <span class="toc-text">返回</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B-12"><span class="toc-number">5.4.8.5.</span> <span class="toc-text">示例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E7%BB%93%E6%9E%9C-4"><span class="toc-number">5.4.8.6.</span> <span class="toc-text">实验结果</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Serial-parseInt"><span class="toc-number">5.4.9.</span> <span class="toc-text">Serial.parseInt()</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E-15"><span class="toc-number">5.4.9.1.</span> <span class="toc-text">说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F-1"><span class="toc-number">5.4.9.2.</span> <span class="toc-text">注意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-18"><span class="toc-number">5.4.9.3.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E6%95%B0-26"><span class="toc-number">5.4.9.4.</span> <span class="toc-text">参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E-13"><span class="toc-number">5.4.9.5.</span> <span class="toc-text">返回</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B-13"><span class="toc-number">5.4.9.6.</span> <span class="toc-text">示例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E7%BB%93%E6%9E%9C-5"><span class="toc-number">5.4.9.7.</span> <span class="toc-text">实验结果</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%B2%E5%8F%A3%E6%9F%A5%E6%89%BE%E6%8C%87%E5%AE%9A%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">5.5.</span> <span class="toc-text">串口查找指定字符串</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Serial-find"><span class="toc-number">5.5.1.</span> <span class="toc-text">Serial.find()</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E-16"><span class="toc-number">5.5.1.1.</span> <span class="toc-text">说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-19"><span class="toc-number">5.5.1.2.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E6%95%B0-27"><span class="toc-number">5.5.1.3.</span> <span class="toc-text">参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E-14"><span class="toc-number">5.5.1.4.</span> <span class="toc-text">返回</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B-14"><span class="toc-number">5.5.1.5.</span> <span class="toc-text">示例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E7%BB%93%E6%9E%9C-6"><span class="toc-number">5.5.1.6.</span> <span class="toc-text">实验结果</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Serial-findUntil-target-terminal"><span class="toc-number">5.5.2.</span> <span class="toc-text">Serial.findUntil(target,terminal);</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E-17"><span class="toc-number">5.5.2.1.</span> <span class="toc-text">说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-20"><span class="toc-number">5.5.2.2.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E6%95%B0-28"><span class="toc-number">5.5.2.3.</span> <span class="toc-text">参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E-15"><span class="toc-number">5.5.2.4.</span> <span class="toc-text">返回</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B-15"><span class="toc-number">5.5.2.5.</span> <span class="toc-text">示例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E7%BB%93%E6%9E%9C-7"><span class="toc-number">5.5.2.6.</span> <span class="toc-text">实验结果</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%91%E4%B8%B2%E5%8F%A3%E5%86%99%E6%95%B0%E6%8D%AE"><span class="toc-number">5.6.</span> <span class="toc-text">向串口写数据</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Serial-write"><span class="toc-number">5.6.1.</span> <span class="toc-text">Serial.write();</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E-18"><span class="toc-number">5.6.1.1.</span> <span class="toc-text">说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-21"><span class="toc-number">5.6.1.2.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E6%95%B0-29"><span class="toc-number">5.6.1.3.</span> <span class="toc-text">参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E-16"><span class="toc-number">5.6.1.4.</span> <span class="toc-text">返回</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B-16"><span class="toc-number">5.6.1.5.</span> <span class="toc-text">示例</span></a></li></ol></li></ol></li></ol></li></ol></div></div></div><div class="tag-cloud"><div class="tag-cloud-tags"><a href="/tags/57%E6%AD%A5%E8%BF%9B%E7%94%B5%E6%9C%BA/" style="font-size: 12px; color: #999">57步进电机</a> <a href="/tags/AT9SPro/" style="font-size: 12px; color: #999">AT9SPro</a> <a href="/tags/Anaconda/" style="font-size: 12px; color: #999">Anaconda</a> <a href="/tags/Arduino/" style="font-size: 24px; color: #3383cd">Arduino</a> <a href="/tags/CUDA/" style="font-size: 18px; color: #668eb3">CUDA</a> <a href="/tags/CUDNN/" style="font-size: 12px; color: #999">CUDNN</a> <a href="/tags/Conda/" style="font-size: 12px; color: #999">Conda</a> <a href="/tags/DHT11/" style="font-size: 12px; color: #999">DHT11</a> <a href="/tags/Docker/" style="font-size: 18px; color: #668eb3">Docker</a> <a href="/tags/ESP8266/" style="font-size: 12px; color: #999">ESP8266</a> <a href="/tags/GPIO/" style="font-size: 30px; color: #0078e7">GPIO</a> <a href="/tags/GPS/" style="font-size: 12px; color: #999">GPS</a> <a href="/tags/GPU/" style="font-size: 24px; color: #3383cd">GPU</a> <a href="/tags/HC-05/" style="font-size: 12px; color: #999">HC-05</a> <a href="/tags/HTML/" style="font-size: 18px; color: #668eb3">HTML</a> <a href="/tags/Hexo/" style="font-size: 18px; color: #668eb3">Hexo</a> <a href="/tags/Hexo%E5%AE%89%E8%A3%85/" style="font-size: 24px; color: #3383cd">Hexo安装</a> <a href="/tags/IAR%E8%BD%AF%E4%BB%B6/" style="font-size: 12px; color: #999">IAR软件</a> <a href="/tags/JavaScript/" style="font-size: 18px; color: #668eb3">JavaScript</a> <a href="/tags/Json/" style="font-size: 12px; color: #999">Json</a></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article" style="--smc-primary:#6200ee;"><link itemprop="mainEntityOfPage" href="http://ccsu.top/posts/514fc85a/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="Explorer"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="explorerの博客"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Arduino IO口使用方法</h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <span class="post-meta-icon-text">Posted on</span> <time title="Created: 2022-04-09 22:18:00" itemprop="dateCreated datePublished" datetime="2022-04-09T22:18:00+08:00">2022-04-09</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <span class="post-meta-icon-text">Edited on</span> <time title="Modified: 2022-05-09 09:59:12" itemprop="dateModified" datetime="2022-05-09T09:59:12+08:00">2022-05-09</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="Word count in article"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-file-word-line"></use></svg></span> <span title="Word count in article">4.9k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="Reading time"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-timer-line"></use></svg></span> <span title="Reading time">20m</span></span></span><span class="post-busuanzi"><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="Views"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg> <span id="busuanzi_value_page_pv"></span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">毕业设计</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/GPIO/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">GPIO</span></a><a class="tag-item" href="/tags/Arduino/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">Arduino</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body"><h1 id="数字输入输出"><a href="#数字输入输出" class="headerlink" title="数字输入输出"></a>数字输入输出</h1><p>在使用输入或输出功能前，你需要先通过<code>pinMode()</code> 函数配置引脚的模式为输入模式或输出模式。</p>
<h2 id="端口初始化函数"><a href="#端口初始化函数" class="headerlink" title="端口初始化函数"></a>端口初始化函数</h2><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">//端口初始化</span>
<span class="token function">pinMode</span><span class="token punctuation">(</span>pin<span class="token punctuation">,</span> mode<span class="token punctuation">)</span>
<span class="token keyword">void</span> <span class="token function">pinMode</span><span class="token punctuation">(</span><span class="token class-name">uint8_t</span><span class="token punctuation">,</span> <span class="token class-name">uint8_t</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h3 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h3><ul>
<li><p><strong>pin:</strong> 为指定配置的引脚编号</p>
</li>
<li><p>mode:</p>
<p> 为指定的配置模式 通常可用模式有三种:</p>
<ul>
<li><strong>INPUT:</strong> 输入模式 (DDRx&#x3D;0xFF)</li>
<li><strong>OUTPUT:</strong> 输出模式 (DDRx&#x3D;0x00)</li>
<li><strong>INPUT_PULLUP:</strong> 输入上拉模式 (DDRx&#x3D;0xFF;PORTx&#x3D;0xFF)</li>
</ul>
</li>
</ul>
<h2 id="输出电平函数"><a href="#输出电平函数" class="headerlink" title="输出电平函数"></a>输出电平函数</h2><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">//输出电平函数</span>
<span class="token function">digitalWrite</span><span class="token punctuation">(</span>pin<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
<span class="token keyword">void</span> <span class="token function">digitalWrite</span><span class="token punctuation">(</span><span class="token class-name">uint8_t</span><span class="token punctuation">,</span> <span class="token class-name">uint8_t</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h3 id="参数-1"><a href="#参数-1" class="headerlink" title="参数"></a>参数</h3><ul>
<li><strong>pin:</strong> 为指定输出的引脚编号；</li>
<li><strong>value:</strong> 为你要指定输出的电平<ul>
<li><strong>HIGH:</strong> 指定输出高电平(1)</li>
<li><strong>LOW:</strong> 指定输出低电平(0)(PORTx)</li>
</ul>
</li>
</ul>
<h2 id="读取电平函数"><a href="#读取电平函数" class="headerlink" title="读取电平函数"></a>读取电平函数</h2><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">//读取输入电平函数</span>
<span class="token function">digitalRead</span><span class="token punctuation">(</span>pin<span class="token punctuation">)</span>
<span class="token keyword">int</span> <span class="token function">digitalRead</span><span class="token punctuation">(</span><span class="token class-name">uint8_t</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h3 id="参数-2"><a href="#参数-2" class="headerlink" title="参数"></a>参数</h3><ul>
<li><strong>pin:</strong> 为指定读取状态的引脚编号。(PINx)</li>
</ul>
<h3 id="返回值"><a href="#返回值" class="headerlink" title="返回值"></a>返回值</h3><ul>
<li>获取到的信号状态，1为高电平，0为低电平。</li>
</ul>
<h1 id="模拟输入输出"><a href="#模拟输入输出" class="headerlink" title="模拟输入输出"></a>模拟输入输出</h1><p>模拟输入引脚是带有ADC（Analog-to-Digital Converter，模数转换器）功能的引脚。<br>它可以将外部输入的模拟信号转换为芯片运算时可以识别的数字信号，从而实现读入模拟值的功能。</p>
<h2 id="模拟信号输入函数"><a href="#模拟信号输入函数" class="headerlink" title="模拟信号输入函数"></a>模拟信号输入函数</h2><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">//模拟信号输入函数</span>
<span class="token function">analogRead</span><span class="token punctuation">(</span>pin<span class="token punctuation">)</span>
<span class="token keyword">int</span> <span class="token function">analogRead</span><span class="token punctuation">(</span><span class="token class-name">uint8_t</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h3 id="参数-3"><a href="#参数-3" class="headerlink" title="参数"></a>参数</h3><ul>
<li><strong>pin:</strong> 是指定要读取模拟值的引脚，被指定的引脚必须是模拟输入引脚。<br>如<code>analogRead(A0)</code>，即是读取<code>A0</code>引脚上的模拟值。</li>
</ul>
<h3 id="返回值-1"><a href="#返回值-1" class="headerlink" title="返回值"></a>返回值</h3><p><code>Arduino Uno</code>模拟输入功能有10位精度，即可以将0～5V的电压信号转换为0～1023的整数形式表示。</p>
<h2 id="模拟信号输出（PWM）函数"><a href="#模拟信号输出（PWM）函数" class="headerlink" title="模拟信号输出（PWM）函数"></a>模拟信号输出（PWM）函数</h2><p>在<code>Arduino Uno</code>中，提供PWM功能的引脚为3、5、6、9、10、11。<br>在<code>analogWrite()</code> 和<code>analogRead() </code>函数内部，已经完成了引脚的初始化，因此不用在Setup() 函数中进行初始化操作。</p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">//模拟信号输出函数</span>
<span class="token function">analogWrite</span><span class="token punctuation">(</span>pin<span class="token punctuation">,</span>value<span class="token punctuation">)</span>
<span class="token keyword">void</span> <span class="token function">analogWrite</span><span class="token punctuation">(</span><span class="token class-name">uint8_t</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h3 id="参数-4"><a href="#参数-4" class="headerlink" title="参数"></a>参数</h3><ul>
<li><strong>pin:</strong> 是指定要输出PWM波的引脚；</li>
<li><strong>value:</strong> 指定是PWM的脉冲宽度，范围为0～255。</li>
</ul>
<h2 id="模拟电压输出函数"><a href="#模拟电压输出函数" class="headerlink" title="模拟电压输出函数"></a>模拟电压输出函数</h2><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">//模拟电压输出函数</span>
<span class="token function">analogReference</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">void</span> <span class="token function">analogReference</span><span class="token punctuation">(</span><span class="token class-name">uint8_t</span> mode<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h3 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h3><ul>
<li>为模拟电压输入设置参考值；</li>
</ul>
<h3 id="形式"><a href="#形式" class="headerlink" title="形式"></a>形式</h3><ul>
<li>analogReference(type)</li>
</ul>
<h3 id="参数-5"><a href="#参数-5" class="headerlink" title="参数"></a>参数</h3><p>type有以下几个选项：</p>
<ul>
<li>DEFAULT: 默认参考值5v (在5V的 板子上 ) 或者 3.3 v (在3.3V 的Arduino板子上)；</li>
<li>INTERNAL: 内置参考值, 在 ATmega168 或者ATmega328板子上为1.1v；在ATmega8 板子上为2.56v (在Arduino Mega板子上不可获得)。</li>
<li>INTERNAL1V1: 内置的1.1V 参考值 (只在Arduino Mega板子上有效 )</li>
<li>INTERNAL2V56: 内置的2.56V 参考值 (只在Arduino Mega板子上有效)</li>
<li>EXTERNAL: 在AREF引脚加的电压(0 ~ 5V)将作为参考值 。 AREF外接电源后不能使用其他的基准源,使用时会引起片内基准源与外部参考源短路</li>
</ul>
<h3 id="返回值-2"><a href="#返回值-2" class="headerlink" title="返回值"></a>返回值</h3><ul>
<li>-none</li>
</ul>
<h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><p>改变参考值的时候，刚开始的读数可能不准确。<br>不要用低于0v或高于5v的电压加在AREF引脚。如果使用加在AREF的外部电压作为参考那一定要在调用<code>analogRead()</code>之前设置<code>analogReference</code>为<code>EXTERNAL</code>，否则可能毁坏芯片。<br>也可以使用一个5千欧的电阻连接外部参考电压到AREF引脚，这样可以方便地在内外参考电压间转换，不过请注意电阻将改变原先你想要的参考值，因为在AREF引脚内部有个32千欧的内置电阻。这样两个电阻就可以分压了，例如：加的是2.5v，那么在AREF引脚的电压就是：2.5 * 32 &#x2F; (32 + 5) &#x3D; ~2.2V 。</p>
<h1 id="高级输入输出"><a href="#高级输入输出" class="headerlink" title="高级输入输出"></a>高级输入输出</h1><h2 id="输出50-方波函数"><a href="#输出50-方波函数" class="headerlink" title="输出50%方波函数"></a>输出50%方波函数</h2><p><code>tone() </code>主要用于<code>Arduino</code>连接蜂鸣器或扬声器发声。可以让指定引脚产生一个占空比为<code>50%</code>的指定频率的方波。</p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">//输出50%方波函数</span>
<span class="token function">tone</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">void</span> <span class="token function">tone</span><span class="token punctuation">(</span><span class="token class-name">uint8_t</span> _pin<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> <span class="token keyword">int</span> frequency<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> <span class="token keyword">long</span> duration <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token function">tone</span><span class="token punctuation">(</span>pin<span class="token punctuation">,</span> frequency<span class="token punctuation">)</span> 
<span class="token function">tone</span><span class="token punctuation">(</span>pin<span class="token punctuation">,</span> frequency<span class="token punctuation">,</span> duration<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h3 id="参数-6"><a href="#参数-6" class="headerlink" title="参数"></a>参数</h3><ul>
<li><strong>pin:</strong> 需要输出方波的引脚</li>
<li><strong>frequency:</strong> 输出的频率，unsigned int型</li>
<li><strong>duration:</strong> 方波持续的时间，单位毫秒。如果没有该参数，Arduino将持续发出设定的音调，直到你改变发声频率或者使用<code>noTone()</code> 函数停止发声。</li>
</ul>
<h2 id="停止输出50-方波函数"><a href="#停止输出50-方波函数" class="headerlink" title="停止输出50%方波函数"></a>停止输出50%方波函数</h2><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">//停止输出50%方波函数</span>
<span class="token function">noTone</span><span class="token punctuation">(</span>pin<span class="token punctuation">)</span>
<span class="token keyword">void</span> <span class="token function">noTone</span><span class="token punctuation">(</span><span class="token class-name">uint8_t</span> _pin<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h3 id="语法-1"><a href="#语法-1" class="headerlink" title="语法"></a>语法</h3><ul>
<li><strong>noTone(pin)</strong></li>
</ul>
<h3 id="参数-7"><a href="#参数-7" class="headerlink" title="参数"></a>参数</h3><ul>
<li><strong>pin:</strong> 需要停止方波输出的引脚</li>
</ul>
<h2 id="检测脉冲宽度函数"><a href="#检测脉冲宽度函数" class="headerlink" title="检测脉冲宽度函数"></a>检测脉冲宽度函数</h2><p>例如当要检测高电平脉冲时，<code>pulseIn()</code> 会等待指定引脚输入的电平变高，当变高后开始记时，直到输入电平变低，停止计时。<br><code>pulseln() </code>函数会返回这个脉冲信号持续的时间，即这个脉冲的宽度。<br>函数还可以设定超时时间。如果超过设定时间，仍未检测到脉冲，则会退出<code>pulseIn()</code>函数并返回0。<br>当没有设定超时时间时，<code>pulseIn() </code>会默认1秒钟的超时时间。</p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">//检测脉冲宽度函数</span>
<span class="token function">pulseIn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">unsigned</span> <span class="token keyword">long</span> <span class="token function">pulseIn</span><span class="token punctuation">(</span><span class="token class-name">uint8_t</span> pin<span class="token punctuation">,</span> <span class="token class-name">uint8_t</span> state<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> <span class="token keyword">long</span> timeout <span class="token operator">=</span> <span class="token number">1000000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h3 id="语法-2"><a href="#语法-2" class="headerlink" title="语法"></a>语法</h3><ul>
<li>pulseIn(pin, value)</li>
<li>pulseIn(pin, value, timeout)</li>
</ul>
<h3 id="参数-8"><a href="#参数-8" class="headerlink" title="参数"></a>参数</h3><ul>
<li>pin：需要读取脉冲的引脚</li>
<li>value：需要读取的脉冲类型，HIGH或LOW</li>
<li>timeout：超时时间，单位微秒，数据类型为无符号长整型。</li>
</ul>
<h3 id="返回值-3"><a href="#返回值-3" class="headerlink" title="返回值"></a>返回值</h3><ul>
<li>返回脉冲宽度，单位微秒，数据类型为无符号长整型。如果在指定时间内没有检测到脉冲，则返回0。</li>
</ul>
<h2 id="外部中断函数"><a href="#外部中断函数" class="headerlink" title="外部中断函数"></a>外部中断函数</h2><p>对中断引脚进行初始化配置，以开启Arduino的外部中断功能</p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">//中断配置函数</span>
<span class="token function">attachInterrupt</span><span class="token punctuation">(</span>pin<span class="token punctuation">,</span> ISR<span class="token punctuation">,</span> mode<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h3 id="参数-9"><a href="#参数-9" class="headerlink" title="参数"></a>参数</h3><ul>
<li>pin：中断引脚,部分为中断源标号</li>
</ul>
<table>
<thead>
<tr>
<th align="center">型号 编号</th>
<th align="center">int.0</th>
<th align="center">int.1</th>
<th align="center">int.2</th>
<th align="center">int.3</th>
<th align="center">int.4</th>
<th align="center">int.5</th>
</tr>
</thead>
<tbody><tr>
<td align="center">UNO\Ethernet</td>
<td align="center">2</td>
<td align="center">3</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">Mega2560</td>
<td align="center">2</td>
<td align="center">3</td>
<td align="center">21</td>
<td align="center">20</td>
<td align="center">19</td>
<td align="center">18</td>
</tr>
<tr>
<td align="center">Leonardo</td>
<td align="center">3</td>
<td align="center">2</td>
<td align="center">0</td>
<td align="center">1</td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">Due</td>
<td align="center">所有IO口均可</td>
<td align="center">所有IO口均可</td>
<td align="center">所有IO口均可</td>
<td align="center">所有IO口均可</td>
<td align="center">所有IO口均可</td>
<td align="center">所有IO口均可</td>
</tr>
</tbody></table>
<ul>
<li><strong>ISR:</strong> 中断函数名</li>
<li><strong>mode:</strong> 中断模式<ul>
<li><strong>LOW:</strong> 低电平触发</li>
<li><strong>CHANGE:</strong> 变化时触发</li>
<li><strong>RISING:</strong> 低电平变为高电平时触发</li>
<li><strong>FALLING:</strong> 高电平变低电平时触发</li>
</ul>
</li>
</ul>
<h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a><strong>示例</strong></h3><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token function">attachInterrupt</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> Hello<span class="token punctuation">,</span> LOW<span class="token punctuation">)</span><span class="token punctuation">;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>该语句会开启Arduino Uno的 2号引脚（中断编号0）的外部中断功能，并指定下降沿时触发该中断。<br>当2号引脚上电平由高变低后，该中断会被触发，Arduino即会运行Hello() 函数中的语句。</p>
<h2 id="关闭中断函数"><a href="#关闭中断函数" class="headerlink" title="关闭中断函数"></a>关闭中断函数</h2><p>中断分离函数,关闭中断功能。</p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token function">detachInterrupt</span><span class="token punctuation">(</span>pin<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h3 id="参数-10"><a href="#参数-10" class="headerlink" title="参数"></a>参数</h3><ul>
<li><strong>pin:</strong> 需要禁用中断的引脚。<h3 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a><strong>示例</strong></h3></li>
</ul>
 <pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token function">detachInterrupt</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h1 id="外部中断寄存器模式"><a href="#外部中断寄存器模式" class="headerlink" title="外部中断寄存器模式"></a>外部中断寄存器模式</h1><p>外部中断控制寄存器- <strong>EICRA</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
<th>ISC11</th>
<th>ISC10</th>
<th>ISC01</th>
<th>ISC00</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>INT0:(ISC11&amp;ISC10) </p>
<p>INT1:(ISC01&amp;ISC00)</p>
<ul>
<li>00:低电平触发</li>
<li>01:逻辑变化触发</li>
<li>10:下降沿触发</li>
<li>11:上升沿触发</li>
</ul>
<p>外部中断屏蔽寄存器- <strong>EIMSK</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th>INT1</th>
<th>INT0</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<ul>
<li>0:中断关闭</li>
<li>1:中断使能外部中断标志位寄存器- <strong>EIFR</strong></li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th>INTF1</th>
<th>INTF0</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>当中断触发标志位置高,执行ISR或向标志位写’1’时标志位重置</p>
<h3 id="中断函数总结"><a href="#中断函数总结" class="headerlink" title="中断函数总结"></a>中断函数总结</h3><p>单片机的中断可以描述为：由于某一随机事件的发生，单片机暂停在原程序的运行，转而执行另一个程序（随机事件），处理完毕之后又自动回到断点处继续执行。</p>
<p>其中， 中断源、主程序、中断服务程序简述如下：</p>
<ul>
<li>中断源：引起中断的原因，或能够发生中断请求的来源。</li>
<li>主程序：单片机现在运行的程序。</li>
<li>中断服务程序：处理中断请求的程序。</li>
<li><code>interrupts()</code>和<code>noInterrupts()</code>在Arduino中，<code>interrupts</code>函数和<code>noInterrupts</code>函数分别负责打开与关闭中断，这两个函数均为无返回值的函数，无参数。</li>
<li><code>attachInterrrupt(interrupt，function，mode)</code>该函数用于设置外部中断，有三个参数，分别表示中断源、中断处理函数和触发模式，它们的具体含义如下：<ul>
<li>中断源：可选0、1，对应2或3号数字引脚。</li>
<li>中断处理函数：指定中断的处理函数，是一段程序，当中断发生时执行该子程序部分，其中参数为函数的指针。</li>
<li>触发模式：有四种类型-LOW（低电平触发）、CHANGE（跳变时触发）、RISING(上升沿触发）、FALLING（下降沿触发）。</li>
<li><code>detachInterrupt(interrupt)</code>用于取消中断。</li>
</ul>
</li>
</ul>
<h2 id="示例-2"><a href="#示例-2" class="headerlink" title="示例"></a>示例</h2><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">EXINT_LOW</span>				<span class="token expression"><span class="token number">0</span>b00</span><span class="token comment">//低电平触发</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">EXINT_CHANGE</span>		<span class="token expression"><span class="token number">0</span>b01</span><span class="token comment">//逻辑变化触发</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">EXINT_FALL</span>				<span class="token expression"><span class="token number">0</span>b10</span><span class="token comment">//下降沿触发</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">EXINT_RISE</span>				<span class="token expression"><span class="token number">0</span>b11</span><span class="token comment">//上升沿触发</span></span>
<span class="token keyword">void</span> <span class="token function">SetInterrupt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//外部中断</span>
<span class="token punctuation">&#123;</span>
	<span class="token function">cli</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// Set EXINT0(pin->PD2), EXINT1(pin->PD3) to Mode INPUT_PULLUP </span>
	DDRD <span class="token operator">&amp;=</span> <span class="token operator">~</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> PD2<span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> PD3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	PORTD <span class="token operator">|=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> PD2<span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> PD3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// Set EXINT Mode to catch FALLING EDGE 下降沿触发中断</span>
	EICRA <span class="token operator">|=</span> <span class="token punctuation">(</span>EXINT_FALL <span class="token operator">&lt;&lt;</span> ISC00<span class="token punctuation">)</span><span class="token punctuation">;</span>
	EICRA <span class="token operator">|=</span> <span class="token punctuation">(</span>EXINT_FALL <span class="token operator">&lt;&lt;</span> ISC10<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// Enable EXINT</span>
	EIMSK <span class="token operator">|=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> INT1<span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> INT0<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//启用外部中断</span>
<span class="token function">sei</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">// EXINT0(p2)</span>
<span class="token function">ISR</span><span class="token punctuation">(</span>INT0_vect<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// EXINT1(p3)</span>
<span class="token function">ISR</span><span class="token punctuation">(</span>INT1_vect<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h1 id="串口"><a href="#串口" class="headerlink" title="串口"></a>串口</h1><h2 id="串口设置"><a href="#串口设置" class="headerlink" title="串口设置"></a>串口设置</h2><h3 id="Serial-begin"><a href="#Serial-begin" class="headerlink" title="Serial.begin();"></a>Serial.begin();</h3><h4 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h4><ul>
<li>开启串口，通常置于setup()函数中。</li>
</ul>
<h4 id="语法-3"><a href="#语法-3" class="headerlink" title="语法"></a>语法</h4><ul>
<li><p>Serial.begin(speed);  </p>
</li>
<li><p>Serial.begin(speed,config);</p>
</li>
</ul>
<h4 id="参数-11"><a href="#参数-11" class="headerlink" title="参数"></a>参数</h4><ul>
<li><p>speed: 波特率，一般取值300, 1200, 2400, 4800, 9600, 14400, 19200, 28800, 38400, 57600,115200</p>
</li>
<li><p>config: 设置数据位、校验位和停止位。例如Serial.begin(speed,Serial_8N1);  Serial_8N1中：8表示8个数据位，N表示没有校验，1表示有1个停止位。</p>
</li>
</ul>
<h4 id="返回"><a href="#返回" class="headerlink" title="返回"></a>返回</h4><ul>
<li>None</li>
</ul>
<h4 id="示例-3"><a href="#示例-3" class="headerlink" title="示例"></a>示例</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">&#123;</span> 
	Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">9600</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// opensserial port, sets data rate to 9600 bps </span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="Serial-end"><a href="#Serial-end" class="headerlink" title="Serial.end();"></a>Serial.end();</h3><h4 id="说明-1"><a href="#说明-1" class="headerlink" title="说明"></a>说明</h4><ul>
<li>禁止串口传输函数。此时串口传输的pin脚可以作为数字IO脚使用。</li>
</ul>
<h4 id="语法-4"><a href="#语法-4" class="headerlink" title="语法"></a>语法</h4><ul>
<li>Serial.end()</li>
</ul>
<h4 id="参数-12"><a href="#参数-12" class="headerlink" title="参数"></a>参数</h4><ul>
<li>None</li>
</ul>
<h4 id="返回-1"><a href="#返回-1" class="headerlink" title="返回"></a>返回</h4><ul>
<li>None</li>
</ul>
<h2 id="清空串口缓存"><a href="#清空串口缓存" class="headerlink" title="清空串口缓存"></a>清空串口缓存</h2><h3 id="Serial-flush"><a href="#Serial-flush" class="headerlink" title="Serial.flush();"></a>Serial.flush();</h3><h4 id="说明-2"><a href="#说明-2" class="headerlink" title="说明"></a>说明</h4><ul>
<li>1.0版本之前为清空串口缓存，现在该函数作用为等待输出数据传送完毕。如果要清空串口缓存的话，可以使用：while(Serial.read() &gt;&#x3D; 0)来代替。</li>
</ul>
<h4 id="语法-5"><a href="#语法-5" class="headerlink" title="语法"></a>语法</h4><ul>
<li>Serial.flush ()</li>
</ul>
<h4 id="参数-13"><a href="#参数-13" class="headerlink" title="参数"></a>参数</h4><ul>
<li>None</li>
</ul>
<h4 id="返回-2"><a href="#返回-2" class="headerlink" title="返回"></a>返回</h4><ul>
<li>None</li>
</ul>
<h3 id="while-Serial-read-gt-x3D-0"><a href="#while-Serial-read-gt-x3D-0" class="headerlink" title="while(Serial.read()&gt;&#x3D; 0){}"></a>while(Serial.read()&gt;&#x3D; 0){}</h3><h4 id="说明-3"><a href="#说明-3" class="headerlink" title="说明"></a>说明</h4><ul>
<li>因Serial.read()函数读取串口缓存中的一个字符，并删除已读字符。因此可以用这句代码来清空串口缓存。实验代码详见下文代码。</li>
</ul>
<h4 id="语法-6"><a href="#语法-6" class="headerlink" title="语法"></a>语法</h4><ul>
<li>while(Serial.read() &gt;&#x3D;0){}</li>
</ul>
<h4 id="参数-14"><a href="#参数-14" class="headerlink" title="参数"></a>参数</h4><ul>
<li>None</li>
</ul>
<h4 id="返回-3"><a href="#返回-3" class="headerlink" title="返回"></a>返回</h4><ul>
<li>None</li>
</ul>
<h2 id="输出串口数据"><a href="#输出串口数据" class="headerlink" title="输出串口数据"></a>输出串口数据</h2><h3 id="Serial-print"><a href="#Serial-print" class="headerlink" title="Serial.print();"></a>Serial.print();</h3><h4 id="说明-4"><a href="#说明-4" class="headerlink" title="说明"></a>说明</h4><ul>
<li>串口输出数据函数，写入字符串数据到串口。</li>
</ul>
<h4 id="语法-7"><a href="#语法-7" class="headerlink" title="语法"></a>语法</h4><ul>
<li><p>Serial.print(val)</p>
</li>
<li><p>Serial.print(val,format)</p>
</li>
</ul>
<h4 id="参数-15"><a href="#参数-15" class="headerlink" title="参数"></a>参数</h4><ul>
<li><p>val: 打印的值，任意数据类型</p>
</li>
<li><p>format: 输出的数据格式，包括整数类型和浮点型数据的小数点位数。</p>
</li>
</ul>
<h4 id="示例-4"><a href="#示例-4" class="headerlink" title="示例"></a>示例</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token number">78</span><span class="token punctuation">,</span> BIN<span class="token punctuation">)</span> 得到 <span class="token string">"1001110"</span>
Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token number">78</span><span class="token punctuation">,</span> OCT<span class="token punctuation">)</span> 得到 <span class="token string">"116"</span>
Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token number">78</span><span class="token punctuation">,</span> DEC<span class="token punctuation">)</span> 得到 <span class="token string">"78"</span>
Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token number">78</span><span class="token punctuation">,</span> HEX<span class="token punctuation">)</span> 得到 <span class="token string">"4E"</span>
Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token number">1.23456</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> 得到 <span class="token string">"1"</span>
Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token number">1.23456</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> 得到 <span class="token string">"1.23"</span>
Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token number">1.23456</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span> 得到 <span class="token string">"1.2346"</span>
Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token char">'N'</span><span class="token punctuation">)</span> 得到 <span class="token string">"N"</span>
Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Hello world."</span><span class="token punctuation">)</span> 得到 <span class="token string">"Hello world."</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="Serial-println"><a href="#Serial-println" class="headerlink" title="Serial.println();"></a>Serial.println();</h3><h4 id="说明-5"><a href="#说明-5" class="headerlink" title="说明"></a>说明</h4><p>写入字符串数据，并换行。实验代码详见下文。</p>
<h4 id="语法-8"><a href="#语法-8" class="headerlink" title="语法"></a>语法</h4><ul>
<li>Serial.println(val) </li>
<li>Serial.println(val,format)</li>
</ul>
<h4 id="参数-16"><a href="#参数-16" class="headerlink" title="参数"></a>参数</h4><ul>
<li><p>val: 打印的值，任意数据类型 </p>
</li>
<li><p>format: 输出的数据格式，包括整数类型和浮点型数据的小数点位数。</p>
</li>
</ul>
<h4 id="返回-4"><a href="#返回-4" class="headerlink" title="返回"></a>返回</h4><ul>
<li>字节</li>
</ul>
<h3 id="Serial-SerialEvent"><a href="#Serial-SerialEvent" class="headerlink" title="Serial.SerialEvent();"></a>Serial.SerialEvent();</h3><h4 id="说明-6"><a href="#说明-6" class="headerlink" title="说明"></a>说明</h4><ul>
<li>串口数据准备好时触发的事件函数，即串口数据准备好调用该函数。</li>
</ul>
<h4 id="语法-9"><a href="#语法-9" class="headerlink" title="语法"></a>语法</h4><ul>
<li>Serial.serialEvent{&#x2F;&#x2F;statements}</li>
</ul>
<h4 id="参数-17"><a href="#参数-17" class="headerlink" title="参数"></a>参数</h4><ul>
<li>statements: 任何有效的语句。</li>
</ul>
<h2 id="读串口缓存区数据"><a href="#读串口缓存区数据" class="headerlink" title="读串口缓存区数据"></a>读串口缓存区数据</h2><h3 id="Serial-available"><a href="#Serial-available" class="headerlink" title="Serial.available();"></a>Serial.available();</h3><h4 id="说明-7"><a href="#说明-7" class="headerlink" title="说明"></a>说明</h4><ul>
<li>判断串口缓冲器的状态函数，用以判断数据是否送达串口。注意使用时通常用delay(100)以保证串口字符接收完毕，即保证Serial.available()返回的是缓冲区准确的可读字节数。</li>
</ul>
<h4 id="语法-10"><a href="#语法-10" class="headerlink" title="语法"></a>语法</h4><ul>
<li>Serial.available();</li>
</ul>
<h4 id="参数-18"><a href="#参数-18" class="headerlink" title="参数"></a>参数</h4><ul>
<li>None</li>
</ul>
<h4 id="返回-5"><a href="#返回-5" class="headerlink" title="返回"></a>返回</h4><ul>
<li>返回缓冲区可读字节数目</li>
</ul>
<h4 id="示例-5"><a href="#示例-5" class="headerlink" title="示例"></a>示例</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">9600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span><span class="token punctuation">(</span>Serial<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token comment">//clear serialbuffer</span>
<span class="token punctuation">&#125;</span>
 
<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span>Serial<span class="token punctuation">.</span><span class="token function">available</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 等待数据传完</span>
    <span class="token keyword">int</span> numdata <span class="token operator">=</span> Serial<span class="token punctuation">.</span><span class="token function">available</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Serial.available = :"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>numdata<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">while</span><span class="token punctuation">(</span>Serial<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span> <span class="token comment">//清空串口缓存</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220409225354.jpeg" alt="img" loading="lazy"></p>
<h3 id="Serial-read"><a href="#Serial-read" class="headerlink" title="Serial.read();"></a>Serial.read();</h3><h4 id="说明-8"><a href="#说明-8" class="headerlink" title="说明"></a>说明</h4><ul>
<li>读取串口数据，一次读一个字符，读完后删除已读数据。</li>
</ul>
<h4 id="语法-11"><a href="#语法-11" class="headerlink" title="语法"></a>语法</h4><ul>
<li>Serial.read();</li>
</ul>
<h4 id="参数-19"><a href="#参数-19" class="headerlink" title="参数"></a>参数</h4><ul>
<li>None</li>
</ul>
<h4 id="返回-6"><a href="#返回-6" class="headerlink" title="返回"></a>返回</h4><ul>
<li>返回串口缓存中第一个可读字节，当没有可读数据时返回-1，整数类型。</li>
</ul>
<h4 id="示例-6"><a href="#示例-6" class="headerlink" title="示例"></a>示例</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">char</span> comchar<span class="token punctuation">;</span>
 
<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">9600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span><span class="token punctuation">(</span>Serial<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token operator">/</span> <span class="token operator">/</span>clear serialbuffer
<span class="token punctuation">&#125;</span>
 
<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// read data from serial port</span>
 
  <span class="token keyword">while</span><span class="token punctuation">(</span>Serial<span class="token punctuation">.</span><span class="token function">available</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    comchar <span class="token operator">=</span> Serial<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//读串口第一个字节</span>
    Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Serial.read: "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>comchar<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">&#125;</span>
 <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220409225507.jpeg" alt="img" loading="lazy"></p>
<p>从实验结果可以看出：Serial.read()每次从串口缓存中读取第一个字符，并将读过的字符删除。</p>
<h3 id="Serial-peek"><a href="#Serial-peek" class="headerlink" title="Serial.peek();"></a>Serial.peek();</h3><h4 id="说明-9"><a href="#说明-9" class="headerlink" title="说明"></a>说明</h4><ul>
<li>读串口缓存中下一字节的数据（字符型），但不从内部缓存中删除该数据。也就是说，连续的调用peek()将返回同一个字符。而调用read()则会返回下一个字符。</li>
</ul>
<h4 id="语法-12"><a href="#语法-12" class="headerlink" title="语法"></a>语法</h4><ul>
<li>Serial.peek();</li>
</ul>
<h4 id="参数-20"><a href="#参数-20" class="headerlink" title="参数"></a>参数</h4><ul>
<li>None</li>
</ul>
<h4 id="返回-7"><a href="#返回-7" class="headerlink" title="返回"></a>返回</h4><ul>
<li>返回串口缓存中下一字节（字符）的数据，如果没有返回-1，整数int型</li>
</ul>
<h4 id="示例-7"><a href="#示例-7" class="headerlink" title="示例"></a>示例</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">char</span> comchar<span class="token punctuation">;</span>
 
<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">9600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span><span class="token punctuation">(</span>Serial<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token comment">//clear serialbuffer</span>
<span class="token punctuation">&#125;</span>
 
<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// read data from serial port</span>
 
  <span class="token keyword">while</span><span class="token punctuation">(</span>Serial<span class="token punctuation">.</span><span class="token function">available</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    comchar <span class="token operator">=</span> Serial<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Serial.peek: "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>comchar<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">&#125;</span>
 <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220409225600.jpeg" alt="img" loading="lazy"></p>
<p>从实验结果可以看出：Serial.peek()每次从串口缓存中读取一个字符，并不会将读过的字符删除。第二次读取时仍然为同一个字符。</p>
<h3 id="Serial-readBytes-buffer-length"><a href="#Serial-readBytes-buffer-length" class="headerlink" title="Serial.readBytes(buffer,length);"></a>Serial.readBytes(buffer,length);</h3><h4 id="说明-10"><a href="#说明-10" class="headerlink" title="说明"></a>说明</h4><ul>
<li>从串口读取指定长度length的字符到缓存数组buffer。</li>
</ul>
<h4 id="语法-13"><a href="#语法-13" class="headerlink" title="语法"></a>语法</h4><ul>
<li>Serial.readBytes(buffer,length);</li>
</ul>
<h4 id="参数-21"><a href="#参数-21" class="headerlink" title="参数"></a>参数</h4><ul>
<li><p>buffer: 缓存变量</p>
</li>
<li><p>length:设定的读取长度</p>
</li>
</ul>
<h4 id="返回-8"><a href="#返回-8" class="headerlink" title="返回"></a>返回</h4><ul>
<li>返回存入缓存的字符数，0表示没有有效数据。</li>
</ul>
<h4 id="示例-8"><a href="#示例-8" class="headerlink" title="示例"></a>示例</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">char</span> buffer<span class="token punctuation">[</span><span class="token number">18</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> numdata<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
 
<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">9600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span><span class="token punctuation">(</span>Serial<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token comment">//clear serial port</span>
<span class="token punctuation">&#125;</span>
 
<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// read data from serial port</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>Serial<span class="token punctuation">.</span><span class="token function">available</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
      <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      numdata <span class="token operator">=</span> Serial<span class="token punctuation">.</span><span class="token function">readBytes</span><span class="token punctuation">(</span>buffer<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Serial.readBytes:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">;</span>    
    <span class="token punctuation">&#125;</span>
    <span class="token comment">// clear serial buffer</span>
  <span class="token keyword">while</span><span class="token punctuation">(</span>Serial<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">18</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        buffer<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token char">'\0'</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="实验结果"><a href="#实验结果" class="headerlink" title="实验结果"></a>实验结果</h4><p><img src="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220409225657.jpeg" alt="img" loading="lazy"></p>
<p><img src="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220409225703.jpeg" alt="img" loading="lazy"></p>
<p>从串口缓存读取指定长度为3的字节。</p>
<h3 id="Serial-readBytesUntil-character-buffer-length"><a href="#Serial-readBytesUntil-character-buffer-length" class="headerlink" title="Serial.readBytesUntil(character,buffer,length);"></a>Serial.readBytesUntil(character,buffer,length);</h3><h4 id="说明-11"><a href="#说明-11" class="headerlink" title="说明"></a>说明</h4><ul>
<li>从串口缓存读取指定长度的字符到数组buffer，遇到终止字符character后停止。</li>
</ul>
<h4 id="语法-14"><a href="#语法-14" class="headerlink" title="语法"></a>语法</h4><ul>
<li>Serial.readBytesUntil(character ,buffer,length);</li>
</ul>
<h4 id="参数-22"><a href="#参数-22" class="headerlink" title="参数"></a>参数</h4><ul>
<li><p>character : 查找的字符 (char)</p>
</li>
<li><p>buffer: 存储读取数据的缓存(char[] 或byte[])</p>
</li>
<li><p>length:设定的读取长度</p>
</li>
</ul>
<h4 id="返回-9"><a href="#返回-9" class="headerlink" title="返回"></a>返回</h4><ul>
<li>返回存入缓存的字符数，0表示没有有效数据。</li>
</ul>
<h4 id="示例-9"><a href="#示例-9" class="headerlink" title="示例"></a>示例</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">char</span> buffer<span class="token punctuation">[</span><span class="token number">18</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">char</span> character <span class="token operator">=</span> <span class="token char">','</span><span class="token punctuation">;</span> <span class="token comment">//终止字符</span>
<span class="token keyword">int</span> numdata<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
 
<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">9600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span><span class="token punctuation">(</span>Serial<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token comment">//clear serialport</span>
<span class="token punctuation">&#125;</span>
 
<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// read data from serial port</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>Serial<span class="token punctuation">.</span><span class="token function">available</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
      <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      numdata <span class="token operator">=</span>Serial<span class="token punctuation">.</span><span class="token function">readBytesUntil</span><span class="token punctuation">(</span>character<span class="token punctuation">,</span>buffer<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Serial.readBytes:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">;</span>    
    <span class="token punctuation">&#125;</span>
    <span class="token comment">// clear serial buffer</span>
  <span class="token keyword">while</span><span class="token punctuation">(</span>Serial<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">18</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        buffer<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token char">'\0'</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="实验结果-1"><a href="#实验结果-1" class="headerlink" title="实验结果"></a>实验结果</h4><p><img src="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220409230024.jpeg" loading="lazy"></p>
<p>从串口缓存中读取3个字符，当遇到”,”时终止读取。</p>
<h3 id="Serial-readString-；"><a href="#Serial-readString-；" class="headerlink" title="Serial.readString()；"></a>Serial.readString()；</h3><h4 id="说明-12"><a href="#说明-12" class="headerlink" title="说明"></a>说明</h4><ul>
<li>从串口缓存区读取全部数据到一个字符串型变量。</li>
</ul>
<h4 id="语法-15"><a href="#语法-15" class="headerlink" title="语法"></a>语法</h4><ul>
<li>Serial.readString();</li>
</ul>
<h4 id="参数-23"><a href="#参数-23" class="headerlink" title="参数"></a>参数</h4><ul>
<li>None</li>
</ul>
<h4 id="返回-10"><a href="#返回-10" class="headerlink" title="返回"></a>返回</h4><ul>
<li>返回从串口缓存区中读取的一个字符串。</li>
</ul>
<h4 id="示例-10"><a href="#示例-10" class="headerlink" title="示例"></a>示例</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">String comdata <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
 
<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">9600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span><span class="token punctuation">(</span>Serial<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span> <span class="token comment">//clear serialbuffer</span>
<span class="token punctuation">&#125;</span>
 
<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// read data from serial port</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>Serial<span class="token punctuation">.</span><span class="token function">available</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
      <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      comdata <span class="token operator">=</span> Serial<span class="token punctuation">.</span><span class="token function">readString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Serial.readString:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>comdata<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    comdata <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="实验结果-2"><a href="#实验结果-2" class="headerlink" title="实验结果"></a>实验结果</h4><p><img src="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220409230024.jpeg" alt="img" loading="lazy"></p>
<p>从实验结果可以看出：Serial.readString()从串口缓存中读取字符至字符串。</p>
<h3 id="Serial-readStringUntil"><a href="#Serial-readStringUntil" class="headerlink" title="Serial.readStringUntil();"></a>Serial.readStringUntil();</h3><h4 id="说明-13"><a href="#说明-13" class="headerlink" title="说明"></a>说明</h4><ul>
<li>从串口缓存区读取字符到一个字符串型变量，直至读完或遇到某终止字符。</li>
</ul>
<h4 id="语法-16"><a href="#语法-16" class="headerlink" title="语法"></a>语法</h4><ul>
<li>Serial.readStringUntil(terminator)</li>
</ul>
<h4 id="参数-24"><a href="#参数-24" class="headerlink" title="参数"></a>参数</h4><ul>
<li>terminator:终止字符(cha型)</li>
</ul>
<h4 id="返回-11"><a href="#返回-11" class="headerlink" title="返回"></a>返回</h4><ul>
<li>从串口缓存区中读取的整个字符串，直至检测到终止字符。</li>
</ul>
<h4 id="示例-11"><a href="#示例-11" class="headerlink" title="示例"></a>示例</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">String comdata <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
<span class="token keyword">char</span> terminator <span class="token operator">=</span> <span class="token char">','</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">9600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span><span class="token punctuation">(</span>Serial<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span> <span class="token comment">//clear serialbuffer</span>
<span class="token punctuation">&#125;</span>
 
<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// read data from serial port</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>Serial<span class="token punctuation">.</span><span class="token function">available</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
      <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      comdata <span class="token operator">=</span>Serial<span class="token punctuation">.</span><span class="token function">readStringUntil</span><span class="token punctuation">(</span>terminator<span class="token punctuation">)</span><span class="token punctuation">;</span>
     Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Serial.readStringUntil: "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>comdata<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>Serial<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="实验结果-3"><a href="#实验结果-3" class="headerlink" title="实验结果"></a>实验结果</h4><p><img src="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220409225902.jpeg" alt="img" loading="lazy"></p>
<p>从串口读取所有字符存放于字符串comdata，直至遇到字符”,”时终止读取。</p>
<h3 id="Serial-parseFloat"><a href="#Serial-parseFloat" class="headerlink" title="Serial.parseFloat();"></a>Serial.parseFloat();</h3><h4 id="说明-14"><a href="#说明-14" class="headerlink" title="说明"></a>说明</h4><ul>
<li>读串口缓存区第一个有效的浮点型数据，数字将被跳过。当读到第一个非浮点数时函数结束。</li>
</ul>
<h4 id="语法-17"><a href="#语法-17" class="headerlink" title="语法"></a>语法</h4><ul>
<li>Serial.parseFloat()</li>
</ul>
<h4 id="参数-25"><a href="#参数-25" class="headerlink" title="参数"></a>参数</h4><ul>
<li>None</li>
</ul>
<h4 id="返回-12"><a href="#返回-12" class="headerlink" title="返回"></a>返回</h4><ul>
<li>返回串口缓存区第一个有效的浮点型数据，数字将被跳过。</li>
</ul>
<h4 id="示例-12"><a href="#示例-12" class="headerlink" title="示例"></a>示例</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">float</span> comfloat<span class="token punctuation">;</span>
 
<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">9600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span><span class="token punctuation">(</span>Serial<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token comment">//clear serialbuffer</span>
<span class="token punctuation">&#125;</span>
 
<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// read data from serial port</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>Serial<span class="token punctuation">.</span><span class="token function">available</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
      <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      comfloat <span class="token operator">=</span> Serial<span class="token punctuation">.</span><span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Serial.parseFloat:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>comfloat<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">// clear serial buffer</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>Serial<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="实验结果-4"><a href="#实验结果-4" class="headerlink" title="实验结果"></a>实验结果</h4><p><img src="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220409230045.jpeg" alt="img" loading="lazy"></p>
<p>从实验结果可以看出：Serial. parseFloat()从串口缓存中读取第一个有效的浮点数，第一个有效数字之前的负号也将被读取，独立的负号将被舍弃。</p>
<h3 id="Serial-parseInt"><a href="#Serial-parseInt" class="headerlink" title="Serial.parseInt()"></a>Serial.parseInt()</h3><h4 id="说明-15"><a href="#说明-15" class="headerlink" title="说明"></a>说明</h4><ul>
<li>从串口接收数据流中读取第一个有效整数（包括负数）。</li>
</ul>
<h4 id="注意-1"><a href="#注意-1" class="headerlink" title="注意"></a>注意</h4><ul>
<li><p>非数字的首字符或者负号将被跳过</p>
</li>
<li><p>当可配置的超时值没有读到有效字符时，或者读不到有效整数时，分析停止</p>
</li>
<li><p>如果超时且读不到有效整数时，返回0</p>
</li>
</ul>
<h4 id="语法-18"><a href="#语法-18" class="headerlink" title="语法"></a>语法</h4><p>Serial.parseInt()</p>
<p>Serial.parseInt(charskipChar)</p>
<h4 id="参数-26"><a href="#参数-26" class="headerlink" title="参数"></a>参数</h4><ul>
<li>skipChar用于在搜索中跳过指定字符（此用法未知）</li>
</ul>
<h4 id="返回-13"><a href="#返回-13" class="headerlink" title="返回"></a>返回</h4><ul>
<li>返回下一个有效整型值。</li>
</ul>
<h4 id="示例-13"><a href="#示例-13" class="headerlink" title="示例"></a>示例</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> comInt<span class="token punctuation">;</span>
 
<span class="token function">voidsetup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">9600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span><span class="token punctuation">(</span>Serial<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token comment">//clear serialbuffer</span>
<span class="token punctuation">&#125;</span>
 
<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// read data from serial port</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>Serial<span class="token punctuation">.</span><span class="token function">available</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
      <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      comInt <span class="token operator">=</span> Serial<span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Serial.parseInt:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>comInt<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">// clear serial buffer</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>Serial<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="实验结果-5"><a href="#实验结果-5" class="headerlink" title="实验结果"></a>实验结果</h4><p><img src="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220409230007.jpeg" alt="img" loading="lazy"></p>
<p>从实验结果可以看出：Serial. parseInt()从串口缓存中读取第一个有效整数，第一个有效数字之前的负号也将被读取，独立的负号将被舍弃。</p>
<h2 id="串口查找指定字符串"><a href="#串口查找指定字符串" class="headerlink" title="串口查找指定字符串"></a>串口查找指定字符串</h2><h3 id="Serial-find"><a href="#Serial-find" class="headerlink" title="Serial.find()"></a>Serial.find()</h3><h4 id="说明-16"><a href="#说明-16" class="headerlink" title="说明"></a>说明</h4><ul>
<li>从串口缓存区读取数据，寻找目标字符串target(char型)</li>
</ul>
<h4 id="语法-19"><a href="#语法-19" class="headerlink" title="语法"></a>语法</h4><ul>
<li><p>char target[] &#x3D; ”目标字符串”;</p>
</li>
<li><p>Serial.find(target);</p>
</li>
</ul>
<h4 id="参数-27"><a href="#参数-27" class="headerlink" title="参数"></a>参数</h4><ul>
<li>target: 目标字符串（char型）</li>
</ul>
<h4 id="返回-14"><a href="#返回-14" class="headerlink" title="返回"></a>返回</h4><ul>
<li>找到目标字符串返回真，否则为假</li>
</ul>
<h4 id="示例-14"><a href="#示例-14" class="headerlink" title="示例"></a>示例</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">char</span> target<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span><span class="token string">"test"</span><span class="token punctuation">;</span>
 
<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">9600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span><span class="token punctuation">(</span>Serial<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token comment">//clear serialbuffer</span>
<span class="token punctuation">&#125;</span>
 
<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// read data from serial port</span>
   <span class="token keyword">if</span><span class="token punctuation">(</span>Serial<span class="token punctuation">.</span><span class="token function">available</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
      <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span> Serial<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
         Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"find traget:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>       
        <span class="token punctuation">&#125;</span>
     <span class="token punctuation">&#125;</span>
    <span class="token comment">// clear serial buffer</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>Serial<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="实验结果-6"><a href="#实验结果-6" class="headerlink" title="实验结果"></a>实验结果</h4><p><img src="https://img-blog.csdn.net/20151216230204010" alt="img" loading="lazy"></p>
<p>串口输入字符中只要有test,函数返回真，打印出目标字符串”test”，否则返回假，不打印任何值。</p>
<h3 id="Serial-findUntil-target-terminal"><a href="#Serial-findUntil-target-terminal" class="headerlink" title="Serial.findUntil(target,terminal);"></a>Serial.findUntil(target,terminal);</h3><h4 id="说明-17"><a href="#说明-17" class="headerlink" title="说明"></a>说明</h4><ul>
<li>从串口缓存区读取数据，寻找目标字符串target(char型数组)，直到出现给定字符串terminal(char型)，找到为真，否则为假。</li>
</ul>
<h4 id="语法-20"><a href="#语法-20" class="headerlink" title="语法"></a>语法</h4><ul>
<li>Serial.findUntil(target,terminal);</li>
</ul>
<h4 id="参数-28"><a href="#参数-28" class="headerlink" title="参数"></a>参数</h4><ul>
<li><p>target : 目标字符串（char型）</p>
</li>
<li><p>terminal : 结束搜索字符串（char型）</p>
</li>
</ul>
<h4 id="返回-15"><a href="#返回-15" class="headerlink" title="返回"></a>返回</h4><ul>
<li>如果在找到终止字符terminal之前找到目标字符target，返回真，否则返回假。</li>
</ul>
<h4 id="示例-15"><a href="#示例-15" class="headerlink" title="示例"></a>示例</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">char</span> target<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span><span class="token string">"test"</span><span class="token punctuation">;</span>
<span class="token keyword">char</span> terminal<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span><span class="token string">"end"</span><span class="token punctuation">;</span>
 
<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">9600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span><span class="token punctuation">(</span>Serial<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token comment">//clear serialbuffer</span>
<span class="token punctuation">&#125;</span>
 
<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// read data from serial port</span>
   <span class="token keyword">if</span><span class="token punctuation">(</span>Serial<span class="token punctuation">.</span><span class="token function">available</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
      <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span> Serial<span class="token punctuation">.</span><span class="token function">findUntil</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span>terminal<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
         Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"find traget:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
     <span class="token punctuation">&#125;</span>
    <span class="token comment">// clear serial buffer</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>Serial<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="实验结果-7"><a href="#实验结果-7" class="headerlink" title="实验结果"></a>实验结果</h4><p><img src="https://img-blog.csdn.net/20151216230345691" alt="img" loading="lazy"></p>
<p>如果串口缓存中有目标字符”test”，返回真，但如果先遇到终止字符串”end”则函数立即终止，不论字符串后面有没有目标字符”test”。</p>
<h2 id="向串口写数据"><a href="#向串口写数据" class="headerlink" title="向串口写数据"></a>向串口写数据</h2><h3 id="Serial-write"><a href="#Serial-write" class="headerlink" title="Serial.write();"></a>Serial.write();</h3><h4 id="说明-18"><a href="#说明-18" class="headerlink" title="说明"></a>说明</h4><ul>
<li>串口输出数据函数。写二进制数据到串口。</li>
</ul>
<h4 id="语法-21"><a href="#语法-21" class="headerlink" title="语法"></a>语法</h4><ul>
<li><p>Serial.write(val) </p>
</li>
<li><p>Serial.write(str) </p>
</li>
<li><p>Serial.write(buf, len)</p>
</li>
</ul>
<h4 id="参数-29"><a href="#参数-29" class="headerlink" title="参数"></a>参数</h4><ul>
<li><p>val: 字节 </p>
</li>
<li><p>str: 一串字节 </p>
</li>
<li><p>buf: 字节数组 </p>
</li>
<li><p>len: buf的长度</p>
</li>
</ul>
<h4 id="返回-16"><a href="#返回-16" class="headerlink" title="返回"></a>返回</h4><ul>
<li>字节长度</li>
</ul>
<h4 id="示例-16"><a href="#示例-16" class="headerlink" title="示例"></a>示例</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> 
Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">9600</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">&#125;</span>
<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> 
  Serial<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// send a byte with thevalue 45 </span>
  <span class="token keyword">int</span> bytesSent <span class="token operator">=</span> Serial<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>“hello”<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//sendthe string “hello” and return the length of the string. </span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>参考链接：</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_42863355/article/details/102759709">https://blog.csdn.net/qq_42863355/article/details/102759709</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/iracer/article/details/50334041">https://blog.csdn.net/iracer/article/details/50334041</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/GuanFuXinCSDN/article/details/104144362">https://blog.csdn.net/GuanFuXinCSDN/article/details/104144362</a></p>
</div></section><div id="reward-container"><span class="hty-icon-button button-glow" id="reward-button" title="Donate" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === &quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-hand-coin-line"></use></svg></span><div id="reward-comment">我很可爱，请给我钱</div><div id="qr" style="display:none;"><div style="display:inline-block"><a href="/images/alipay-qrcode.jpg"><img loading="lazy" src="/images/alipay-qrcode.jpg" alt="支付宝" title="支付宝"></a><div><span style="color:#00A3EE"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-alipay-line"></use></svg></span></div></div><div style="display:inline-block"><a href="/images/qqpay-qrcode.jpg"><img loading="lazy" src="/images/qqpay-qrcode.jpg" alt="QQ 支付" title="QQ 支付"></a><div><span style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></span></div></div><div style="display:inline-block"><a href="/images/wechatpay-qrcode.jpg"><img loading="lazy" src="/images/wechatpay-qrcode.jpg" alt="微信支付" title="微信支付"></a><div><span style="color:#2DC100"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-wechat-pay-line"></use></svg></span></div></div></div></div><ul class="post-copyright"><li class="post-copyright-author"><strong>Post author: </strong>Explorer</li><li class="post-copyright-link"><strong>Post link: </strong><a href="http://ccsu.top/posts/514fc85a/" title="Arduino IO口使用方法">http://ccsu.top/posts/514fc85a/</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> unless otherwise stated.</li></ul></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/posts/84233d6d/" rel="prev" title="Arduino Json串口"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">Arduino Json串口</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/posts/c3972d29/" rel="next" title="Arduino uno介绍"><span class="post-nav-text">Arduino uno介绍</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div class="hty-card" id="comment"><div id="waline"></div><script src="/js/comments/waline.js" type="module" defer></script></div></main><footer class="sidebar-translate" id="footer"><div class="beian"><a rel="noopener" href="https://beian.miit.gov.cn/" target="_blank">皖ICP备20002891号-2</a></div><div class="copyright"><span>&copy; 2016 – 2022 </span><span class="with-love" id="animate" title="赞助者们"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> Explorer</span></div><div class="powered"><span>Powered by <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> v6.0.0</span><span class="footer-separator">|</span><span>Theme - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.8.8</span></div><div class="live-time"><span>本博客已萌萌哒地运行</span><span id="display_live_time"></span><span class="moe-text">(●'◡'●)</span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2022-02-12T00:00:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = ` ${passDay} Days ${passHour} Hours ${passMinute} Minutes ${passSecond} Seconds`;
}
blog_live_time();
</script></div><div id="busuanzi"><span id="busuanzi_container_site_pv" title="Total Views"><span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg></span><span id="busuanzi_value_site_pv"></span></span><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#6200ee" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="Search"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search-line"></use></svg></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script src="/js/search/local-search.js" defer type="module"></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-close-line"></use></svg></span></div><div class="search-input-container"><input class="search-input" id="local-search-input" type="text" placeholder="Searching..." value=""></div><div id="local-search-result"></div></div><script>function initMourn() {
  const date = new Date();
  const today = (date.getMonth() + 1) + "-" + date.getDate()
  const mourn_days = ["4-4","9-18"]
  if (mourn_days.includes(today)) {
    document.documentElement.style.filter = "grayscale(1)";
  }
}
initMourn();</script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"right","width":150,"height":350,"hOffset":null,"vOffset":null},"mobile":{"show":true},"log":false});</script></body></html>