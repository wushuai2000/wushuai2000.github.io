<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#6200ee"><meta name="author" content="Explorer"><meta name="copyright" content="Explorer"><meta name="generator" content="Hexo 6.0.0"><meta name="theme" content="hexo-theme-yun"><title>Pythonå¤šä»»åŠ¡-çº¿ç¨‹ | explorerã®åšå®¢</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.2.4/dist/yun/yun-markdown.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prism-theme-vars/base.css"><script src="//at.alicdn.com/t/font_1140697_dxory92pb0h.js" async></script><script src="https://cdn.jsdelivr.net/npm/@unocss/runtime/mini.global.js"></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal() {
  [".post-card",".markdown-body img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
}
document.addEventListener("DOMContentLoaded", initScrollReveal);
document.addEventListener("pjax:success", initScrollReveal);
</script><link class="aplayer-style-marker" rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.css"><script class="aplayer-script-marker" src="https://cdn.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.js" defer></script><script class="meting-script-marker" src="https://cdn.jsdelivr.net/npm/meting@1/dist/Meting.min.js" defer></script><link rel="icon" type="image/png" href="/./favicon.ico"><link rel="mask-icon" href="/./favicon.ico" color="#6200ee"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    window.Yun = {}
    window.CONFIG = {"hostname":"ccsu.top","root":"/","title":["Wu","Shuai","ã®","Blog"],"version":"1.8.8","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}.","hits":"${hits} results found","hits_time":"${hits} results found in ${time} ms"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://v1.hitokoto.cn","hitokoto":true},"local_search":{"path":"/search.xml"},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]},"waline":{"config":{"enable":true,"serverURL":"https://blog-api-seven-vert.vercel.app/","comment":false,"visitor":false,"emoji":["https://cdn.jsdelivr.net/gh/walinejs/emojis@latest/bilibili/","https://cdn.jsdelivr.net/gh/walinejs/emojis@latest/weibo/","https://cdn.jsdelivr.net/gh/walinejs/emojis@latest/qq/"],"locale":{"placeholder":"2506812280@qq.com"},"requiredMeta":["nick"],"el":"#waline","lang":"en","path":"/posts/a4da6e72/"},"cdn":"https://cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js","dark":"html.dark"},"vendors":{"darken":"https://cdn.jsdelivr.net/npm/darken@1.5.0"}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/hexo-theme-yun.js" type="module"></script><link rel="alternate" href="/atom.xml" title="explorerã®åšå®¢" type="application/atom+xml"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin><script async src="https://www.googletagmanager.com/gtag/js?id=G-BMBD00SVV4"></script><script>if (CONFIG.hostname === location.hostname) {
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-BMBD00SVV4');
}</script><script>(function(){
  var bp = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  if (curProtocol === 'https') {
    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else {
    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(bp, s);
})();</script><!-- Google Tag Manager --><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-M9KWR9L');</script><!-- End Google Tag Manager --><meta name="description" content="å¤šä»»åŠ¡ä»‹ç»ç°å®ç”Ÿæ´»ä¸­æœ‰å¾ˆå¤šçš„åœºæ™¯ä¸­çš„äº‹æƒ…æ˜¯åŒæ—¶è¿›è¡Œçš„ï¼Œæ¯”å¦‚å¼€è½¦çš„æ—¶å€™ æ‰‹å’Œè„šå…±åŒæ¥é©¾é©¶æ±½è½¦ï¼Œå†æ¯”å¦‚å”±æ­Œè·³èˆä¹Ÿæ˜¯åŒæ—¶è¿›è¡Œçš„ï¼›  è¯•æƒ³ï¼Œå¦‚æœæŠŠå”±æ­Œå’Œè·³èˆè¿™2ä»¶äº‹æƒ…åˆ†å¼€ä¾æ¬¡å®Œæˆçš„è¯ï¼Œä¼°è®¡å°±æ²¡æœ‰é‚£ä¹ˆå¥½çš„æ•ˆæœäº†ï¼ˆæƒ³ä¸€ä¸‹åœºæ™¯ï¼šå…ˆå”±æ­Œï¼Œç„¶ååœ¨è·³èˆï¼ŒO(âˆ©_âˆ©)Oå“ˆå“ˆ~ï¼‰ ç¨‹åºä¸­å¦‚ä¸‹ç¨‹åºï¼Œæ¥æ¨¡æ‹Ÿâ€œå”±æ­Œè·³èˆâ€è¿™ä»¶äº‹æƒ… #coding&#x3D;utf-8  from time import sleep  def sing()">
<meta property="og:type" content="article">
<meta property="og:title" content="Pythonå¤šä»»åŠ¡-çº¿ç¨‹">
<meta property="og:url" content="http://ccsu.top/posts/a4da6e72/index.html">
<meta property="og:site_name" content="explorerã®åšå®¢">
<meta property="og:description" content="å¤šä»»åŠ¡ä»‹ç»ç°å®ç”Ÿæ´»ä¸­æœ‰å¾ˆå¤šçš„åœºæ™¯ä¸­çš„äº‹æƒ…æ˜¯åŒæ—¶è¿›è¡Œçš„ï¼Œæ¯”å¦‚å¼€è½¦çš„æ—¶å€™ æ‰‹å’Œè„šå…±åŒæ¥é©¾é©¶æ±½è½¦ï¼Œå†æ¯”å¦‚å”±æ­Œè·³èˆä¹Ÿæ˜¯åŒæ—¶è¿›è¡Œçš„ï¼›  è¯•æƒ³ï¼Œå¦‚æœæŠŠå”±æ­Œå’Œè·³èˆè¿™2ä»¶äº‹æƒ…åˆ†å¼€ä¾æ¬¡å®Œæˆçš„è¯ï¼Œä¼°è®¡å°±æ²¡æœ‰é‚£ä¹ˆå¥½çš„æ•ˆæœäº†ï¼ˆæƒ³ä¸€ä¸‹åœºæ™¯ï¼šå…ˆå”±æ­Œï¼Œç„¶ååœ¨è·³èˆï¼ŒO(âˆ©_âˆ©)Oå“ˆå“ˆ~ï¼‰ ç¨‹åºä¸­å¦‚ä¸‹ç¨‹åºï¼Œæ¥æ¨¡æ‹Ÿâ€œå”±æ­Œè·³èˆâ€è¿™ä»¶äº‹æƒ… #coding&#x3D;utf-8  from time import sleep  def sing()">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220319205200.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220319205249.png">
<meta property="og:image" content="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220319205356.png">
<meta property="og:image" content="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220319205411.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220319205417.gif">
<meta property="og:image" content="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220319205426.gif">
<meta property="og:image" content="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220319205623.gif">
<meta property="og:image" content="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220319205706.gif">
<meta property="og:image" content="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220319205759.gif">
<meta property="og:image" content="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220319210210.gif">
<meta property="og:image" content="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220319210233.gif">
<meta property="og:image" content="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220319213103.png">
<meta property="og:image" content="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220319215542.png">
<meta property="og:image" content="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220319215630.gif">
<meta property="og:image" content="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220319215638.png">
<meta property="og:image" content="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220319215802.png">
<meta property="article:published_time" content="2022-03-19T15:00:00.000Z">
<meta property="article:modified_time" content="2022-03-19T16:53:47.620Z">
<meta property="article:author" content="Explorer">
<meta property="article:tag" content="çº¿ç¨‹">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220319205200.jpg"><script>(function() {
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
  const setting = localStorage.getItem('darken-mode') || 'auto'
  if (setting === 'dark' || (prefersDark && setting !== 'light'))
    document.documentElement.classList.toggle('dark', true)
})()</script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js" type="module"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js" type="module"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="Table of Contents"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="Overview"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="Explorer"><img width="96" loading="lazy" src="/images/avatar.jpg" alt="Explorer"><span class="site-author-status" title="åŠªåŠ›å­¦ä¹ ">ğŸ˜„</span></a><div class="site-author-name"><a href="/about/">Explorer</a></div><span class="site-name">explorerã®åšå®¢</span><sub class="site-subtitle"></sub><div class="site-desciption">å‰è·¯æ¼«æ¼«ï¼Œå½“å…‹å·±ï¼Œå½“æ…ç‹¬!</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="Home"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="Archives"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">45</span></a></div><div class="site-state-item"><a href="/categories/" title="Categories"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">16</span></a></div><div class="site-state-item"><a href="/tags/" title="Tags"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">46</span></a></div><a class="site-state-item hty-icon-button" href="/about/" title="ç•™è¨€æ¿"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-clipboard-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="/atom.xml" title="RSS" target="_blank" style="color:orange"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-rss-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/wushuai2000" title="GitHub" target="_blank" style="color:#6e5494"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://music.163.com/#/user/home?id=549838440" title="ç½‘æ˜“äº‘éŸ³ä¹" target="_blank" style="color:#C20C0C"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-netease-cloud-music-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.zhihu.com/people/huan-ji-91-3/" title="çŸ¥ä¹" target="_blank" style="color:#0084FF"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-zhihu-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://space.bilibili.com/345844264" title="å“”å“©å“”å“©" target="_blank" style="color:#FF8EB3"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-bilibili-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:2506812280@qq.com" title="E-Mail" target="_blank" style="color:#8E71C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="æˆ‘çš„å°ä¼™ä¼´ä»¬" style="color:dodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-genderless-line"></use></svg></a><a class="links-item hty-icon-button" href="/albums/" title="ç›¸å†Œ" style="color:dodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-gallery-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A4%9A%E4%BB%BB%E5%8A%A1%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.</span> <span class="toc-text">å¤šä»»åŠ¡ä»‹ç»</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8E%B0%E5%AE%9E%E7%94%9F%E6%B4%BB%E4%B8%AD"><span class="toc-number">1.1.</span> <span class="toc-text">ç°å®ç”Ÿæ´»ä¸­</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E4%B8%AD"><span class="toc-number">1.2.</span> <span class="toc-text">ç¨‹åºä¸­</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F"><span class="toc-number">1.3.</span> <span class="toc-text">æ³¨æ„</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A4%9A%E4%BB%BB%E5%8A%A1%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">2.</span> <span class="toc-text">å¤šä»»åŠ¡çš„æ¦‚å¿µ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%EF%BC%9A"><span class="toc-number">2.0.0.1.</span> <span class="toc-text">æ³¨æ„ï¼š</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B"><span class="toc-number">3.</span> <span class="toc-text">çº¿ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%BD%BF%E7%94%A8threading%E6%A8%A1%E5%9D%97"><span class="toc-number">3.0.1.</span> <span class="toc-text">1. ä½¿ç”¨threadingæ¨¡å—</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E7%BA%BF%E7%A8%8B%E6%89%A7%E8%A1%8C"><span class="toc-number">3.0.1.1.</span> <span class="toc-text">å•çº¿ç¨‹æ‰§è¡Œ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E7%BA%BF%E7%A8%8B%E6%89%A7%E8%A1%8C"><span class="toc-number">3.0.1.2.</span> <span class="toc-text">å¤šçº¿ç¨‹æ‰§è¡Œ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E"><span class="toc-number">3.0.1.3.</span> <span class="toc-text">è¯´æ˜</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%B8%BB%E7%BA%BF%E7%A8%8B%E4%BC%9A%E7%AD%89%E5%BE%85%E6%89%80%E6%9C%89%E7%9A%84%E5%AD%90%E7%BA%BF%E7%A8%8B%E7%BB%93%E6%9D%9F%E5%90%8E%E6%89%8D%E7%BB%93%E6%9D%9F"><span class="toc-number">3.0.2.</span> <span class="toc-text">2. ä¸»çº¿ç¨‹ä¼šç­‰å¾…æ‰€æœ‰çš„å­çº¿ç¨‹ç»“æŸåæ‰ç»“æŸ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%9F%A5%E7%9C%8B%E7%BA%BF%E7%A8%8B%E6%95%B0%E9%87%8F"><span class="toc-number">3.0.3.</span> <span class="toc-text">3. æŸ¥çœ‹çº¿ç¨‹æ•°é‡</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B-%E6%B3%A8%E6%84%8F%E7%82%B9"><span class="toc-number">4.</span> <span class="toc-text">çº¿ç¨‹-æ³¨æ„ç‚¹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E7%BA%BF%E7%A8%8B%E6%89%A7%E8%A1%8C%E4%BB%A3%E7%A0%81%E7%9A%84%E5%B0%81%E8%A3%85"><span class="toc-number">4.0.0.1.</span> <span class="toc-text">1. çº¿ç¨‹æ‰§è¡Œä»£ç çš„å°è£…</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E-1"><span class="toc-number">4.0.1.</span> <span class="toc-text">è¯´æ˜</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E7%BA%BF%E7%A8%8B%E7%9A%84%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F"><span class="toc-number">4.0.1.1.</span> <span class="toc-text">2. çº¿ç¨‹çš„æ‰§è¡Œé¡ºåº</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E-2"><span class="toc-number">4.0.1.2.</span> <span class="toc-text">è¯´æ˜</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%80%BB%E7%BB%93"><span class="toc-number">4.0.2.</span> <span class="toc-text">3. æ€»ç»“</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A4%9A%E7%BA%BF%E7%A8%8B-%E5%85%B1%E4%BA%AB%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F"><span class="toc-number">5.</span> <span class="toc-text">å¤šçº¿ç¨‹-å…±äº«å…¨å±€å˜é‡</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%E5%BD%93%E5%81%9A%E5%AE%9E%E5%8F%82%E4%BC%A0%E9%80%92%E5%88%B0%E7%BA%BF%E7%A8%8B%E4%B8%AD"><span class="toc-number">5.1.</span> <span class="toc-text">åˆ—è¡¨å½“åšå®å‚ä¼ é€’åˆ°çº¿ç¨‹ä¸­</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93%EF%BC%9A"><span class="toc-number">5.2.</span> <span class="toc-text">æ€»ç»“ï¼š</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A4%9A%E7%BA%BF%E7%A8%8B-%E5%85%B1%E4%BA%AB%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E9%97%AE%E9%A2%98"><span class="toc-number">6.</span> <span class="toc-text">å¤šçº¿ç¨‹-å…±äº«å…¨å±€å˜é‡é—®é¢˜</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%BC%80%E5%8F%91%E5%8F%AF%E8%83%BD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">6.0.1.</span> <span class="toc-text">å¤šçº¿ç¨‹å¼€å‘å¯èƒ½é‡åˆ°çš„é—®é¢˜</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%8B%E8%AF%951"><span class="toc-number">6.0.1.1.</span> <span class="toc-text">æµ‹è¯•1</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C%EF%BC%9A"><span class="toc-number">6.0.1.2.</span> <span class="toc-text">è¿è¡Œç»“æœï¼š</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%8B%E8%AF%952"><span class="toc-number">6.0.1.3.</span> <span class="toc-text">æµ‹è¯•2</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C%EF%BC%9A-1"><span class="toc-number">6.0.1.4.</span> <span class="toc-text">è¿è¡Œç»“æœï¼š</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%93%E8%AE%BA"><span class="toc-number">6.0.2.</span> <span class="toc-text">ç»“è®º</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%90%8C%E6%AD%A5%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">7.</span> <span class="toc-text">åŒæ­¥çš„æ¦‚å¿µ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%97%B6%E4%BF%AE%E6%94%B9%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="toc-number">7.0.0.1.</span> <span class="toc-text">è§£å†³çº¿ç¨‹åŒæ—¶ä¿®æ”¹å…¨å±€å˜é‡çš„æ–¹å¼</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%92%E6%96%A5%E9%94%81"><span class="toc-number">8.</span> <span class="toc-text">äº’æ–¥é”</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%EF%BC%9A-1"><span class="toc-number">8.0.0.1.</span> <span class="toc-text">æ³¨æ„ï¼š</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E4%BA%92%E6%96%A5%E9%94%81%E5%AE%8C%E6%88%902%E4%B8%AA%E7%BA%BF%E7%A8%8B%E5%AF%B9%E5%90%8C%E4%B8%80%E4%B8%AA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%90%84%E5%8A%A0100%E4%B8%87%E6%AC%A1%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-number">8.0.0.2.</span> <span class="toc-text">ä½¿ç”¨äº’æ–¥é”å®Œæˆ2ä¸ªçº¿ç¨‹å¯¹åŒä¸€ä¸ªå…¨å±€å˜é‡å„åŠ 100ä¸‡æ¬¡çš„æ“ä½œ</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8A%E9%94%81%E8%A7%A3%E9%94%81%E8%BF%87%E7%A8%8B"><span class="toc-number">8.1.</span> <span class="toc-text">ä¸Šé”è§£é”è¿‡ç¨‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">8.2.</span> <span class="toc-text">æ€»ç»“</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%AD%BB%E9%94%81"><span class="toc-number">9.</span> <span class="toc-text">æ­»é”</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%AD%BB%E9%94%81"><span class="toc-number">9.0.1.</span> <span class="toc-text">1. æ­»é”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E9%81%BF%E5%85%8D%E6%AD%BB%E9%94%81"><span class="toc-number">9.0.2.</span> <span class="toc-text">2. é¿å…æ­»é”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%99%84%E5%BD%95-%E9%93%B6%E8%A1%8C%E5%AE%B6%E7%AE%97%E6%B3%95"><span class="toc-number">9.0.3.</span> <span class="toc-text">é™„å½•-é“¶è¡Œå®¶ç®—æ³•</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A%E5%A4%9A%E4%BB%BB%E5%8A%A1%E7%89%88udp%E8%81%8A%E5%A4%A9%E5%99%A8"><span class="toc-number">10.</span> <span class="toc-text">æ¡ˆä¾‹ï¼šå¤šä»»åŠ¡ç‰ˆudpèŠå¤©å™¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E-3"><span class="toc-number">10.0.0.1.</span> <span class="toc-text">è¯´æ˜</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A6%81%E6%B1%82"><span class="toc-number">10.0.0.2.</span> <span class="toc-text">è¦æ±‚</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E4%BB%A3%E7%A0%81"><span class="toc-number">10.0.0.3.</span> <span class="toc-text">å‚è€ƒä»£ç :</span></a></li></ol></li></ol></li></ol></li></ol></div></div></div><div class="tag-cloud"><div class="tag-cloud-tags"><a href="/tags/57%E6%AD%A5%E8%BF%9B%E7%94%B5%E6%9C%BA/" style="font-size: 12px; color: #999">57æ­¥è¿›ç”µæœº</a> <a href="/tags/DHT11/" style="font-size: 12px; color: #999">DHT11</a> <a href="/tags/Docker/" style="font-size: 18px; color: #668eb3">Docker</a> <a href="/tags/ESP8266/" style="font-size: 12px; color: #999">ESP8266</a> <a href="/tags/GPIO/" style="font-size: 18px; color: #668eb3">GPIO</a> <a href="/tags/HC-05/" style="font-size: 12px; color: #999">HC-05</a> <a href="/tags/HTML/" style="font-size: 18px; color: #668eb3">HTML</a> <a href="/tags/Hexo/" style="font-size: 18px; color: #668eb3">Hexo</a> <a href="/tags/Hexo%E5%AE%89%E8%A3%85/" style="font-size: 24px; color: #3383cd">Hexoå®‰è£…</a> <a href="/tags/IAR%E8%BD%AF%E4%BB%B6/" style="font-size: 12px; color: #999">IARè½¯ä»¶</a> <a href="/tags/JavaScript/" style="font-size: 18px; color: #668eb3">JavaScript</a> <a href="/tags/KMP/" style="font-size: 12px; color: #999">KMP</a> <a href="/tags/MQTT/" style="font-size: 12px; color: #999">MQTT</a> <a href="/tags/OpenCV/" style="font-size: 18px; color: #668eb3">OpenCV</a> <a href="/tags/PWM/" style="font-size: 12px; color: #999">PWM</a> <a href="/tags/Python%E5%9F%BA%E7%A1%80/" style="font-size: 12px; color: #999">PythonåŸºç¡€</a> <a href="/tags/RPi-GPIO/" style="font-size: 18px; color: #668eb3">RPi.GPIO</a> <a href="/tags/Socket/" style="font-size: 12px; color: #999">Socket</a> <a href="/tags/ZigBee/" style="font-size: 30px; color: #0078e7">ZigBee</a> <a href="/tags/cc2530/" style="font-size: 12px; color: #999">cc2530</a></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article" style="--smc-primary:#6200ee;"><link itemprop="mainEntityOfPage" href="http://ccsu.top/posts/a4da6e72/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="Explorer"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="explorerã®åšå®¢"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Pythonå¤šä»»åŠ¡-çº¿ç¨‹</h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <span class="post-meta-icon-text">Posted on</span> <time title="Created: 2022-03-19 23:00:00" itemprop="dateCreated datePublished" datetime="2022-03-19T23:00:00+08:00">2022-03-19</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <span class="post-meta-icon-text">Edited on</span> <time title="Modified: 2022-03-20 00:53:47" itemprop="dateModified" datetime="2022-03-20T00:53:47+08:00">2022-03-20</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="Word count in article"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-file-word-line"></use></svg></span> <span title="Word count in article">5.1k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="Reading time"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-timer-line"></use></svg></span> <span title="Reading time">20m</span></span></span><span class="post-busuanzi"><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="Views"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg> <span id="busuanzi_value_page_pv"></span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/Python/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">Python</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/%E7%BA%BF%E7%A8%8B/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">çº¿ç¨‹</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body"><h1 id="å¤šä»»åŠ¡ä»‹ç»"><a href="#å¤šä»»åŠ¡ä»‹ç»" class="headerlink" title="å¤šä»»åŠ¡ä»‹ç»"></a>å¤šä»»åŠ¡ä»‹ç»</h1><h2 id="ç°å®ç”Ÿæ´»ä¸­"><a href="#ç°å®ç”Ÿæ´»ä¸­" class="headerlink" title="ç°å®ç”Ÿæ´»ä¸­"></a>ç°å®ç”Ÿæ´»ä¸­</h2><p>æœ‰å¾ˆå¤šçš„åœºæ™¯ä¸­çš„äº‹æƒ…æ˜¯åŒæ—¶è¿›è¡Œçš„ï¼Œæ¯”å¦‚å¼€è½¦çš„æ—¶å€™ æ‰‹å’Œè„šå…±åŒæ¥é©¾é©¶æ±½è½¦ï¼Œå†æ¯”å¦‚å”±æ­Œè·³èˆä¹Ÿæ˜¯åŒæ—¶è¿›è¡Œçš„ï¼›</p>
<p><img src="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220319205200.jpg" alt="img" loading="lazy"></p>
<p>è¯•æƒ³ï¼Œå¦‚æœæŠŠå”±æ­Œå’Œè·³èˆè¿™2ä»¶äº‹æƒ…åˆ†å¼€ä¾æ¬¡å®Œæˆçš„è¯ï¼Œä¼°è®¡å°±æ²¡æœ‰é‚£ä¹ˆå¥½çš„æ•ˆæœäº†ï¼ˆæƒ³ä¸€ä¸‹åœºæ™¯ï¼šå…ˆå”±æ­Œï¼Œç„¶ååœ¨è·³èˆï¼ŒO(âˆ©_âˆ©)Oå“ˆå“ˆ~ï¼‰</p>
<h2 id="ç¨‹åºä¸­"><a href="#ç¨‹åºä¸­" class="headerlink" title="ç¨‹åºä¸­"></a>ç¨‹åºä¸­</h2><p>å¦‚ä¸‹ç¨‹åºï¼Œæ¥æ¨¡æ‹Ÿâ€œå”±æ­Œè·³èˆâ€è¿™ä»¶äº‹æƒ…</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#coding=utf-8</span>

<span class="token keyword">from</span> time <span class="token keyword">import</span> sleep

<span class="token keyword">def</span> <span class="token function">sing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"æ­£åœ¨å”±æ­Œ...%d"</span><span class="token operator">%</span>i<span class="token punctuation">)</span>
        sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">dance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"æ­£åœ¨è·³èˆ...%d"</span><span class="token operator">%</span>i<span class="token punctuation">)</span>
        sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    sing<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#å”±æ­Œ</span>
    dance<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#è·³èˆ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220319205249.png" alt="image-20220319205249393" loading="lazy"></p>
<h2 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h2><ul>
<li>å¾ˆæ˜¾ç„¶åˆšåˆšçš„ç¨‹åºå¹¶æ²¡æœ‰å®Œæˆå”±æ­Œå’Œè·³èˆåŒæ—¶è¿›è¡Œçš„è¦æ±‚</li>
<li>å¦‚æœæƒ³è¦å®ç°â€œå”±æ­Œè·³èˆâ€åŒæ—¶è¿›è¡Œï¼Œé‚£ä¹ˆå°±éœ€è¦ä¸€ä¸ªæ–°çš„æ–¹æ³•ï¼Œå«åšï¼š<strong>å¤šä»»åŠ¡</strong></li>
</ul>
<h1 id="å¤šä»»åŠ¡çš„æ¦‚å¿µ"><a href="#å¤šä»»åŠ¡çš„æ¦‚å¿µ" class="headerlink" title="å¤šä»»åŠ¡çš„æ¦‚å¿µ"></a>å¤šä»»åŠ¡çš„æ¦‚å¿µ</h1><p>ä»€ä¹ˆå«â€œå¤šä»»åŠ¡â€å‘¢ï¼Ÿç®€å•åœ°è¯´ï¼Œå°±æ˜¯æ“ä½œç³»ç»Ÿå¯ä»¥åŒæ—¶è¿è¡Œå¤šä¸ªä»»åŠ¡ã€‚æ‰“ä¸ªæ¯”æ–¹ï¼Œä½ ä¸€è¾¹åœ¨ç”¨æµè§ˆå™¨ä¸Šç½‘ï¼Œä¸€è¾¹åœ¨å¬MP3ï¼Œä¸€è¾¹åœ¨ç”¨Wordèµ¶ä½œä¸šï¼Œè¿™å°±æ˜¯å¤šä»»åŠ¡ï¼Œè‡³å°‘åŒæ—¶æœ‰3ä¸ªä»»åŠ¡æ­£åœ¨è¿è¡Œã€‚è¿˜æœ‰å¾ˆå¤šä»»åŠ¡æ‚„æ‚„åœ°åœ¨åå°åŒæ—¶è¿è¡Œç€ï¼Œåªæ˜¯æ¡Œé¢ä¸Šæ²¡æœ‰æ˜¾ç¤ºè€Œå·²ã€‚</p>
<p><img src="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220319205356.png" alt="img" loading="lazy"></p>
<p>ç°åœ¨ï¼Œå¤šæ ¸CPUå·²ç»éå¸¸æ™®åŠäº†ï¼Œä½†æ˜¯ï¼Œå³ä½¿è¿‡å»çš„å•æ ¸CPUï¼Œä¹Ÿå¯ä»¥æ‰§è¡Œå¤šä»»åŠ¡ã€‚ç”±äºCPUæ‰§è¡Œä»£ç éƒ½æ˜¯é¡ºåºæ‰§è¡Œçš„ï¼Œé‚£ä¹ˆï¼Œå•æ ¸CPUæ˜¯æ€ä¹ˆæ‰§è¡Œå¤šä»»åŠ¡çš„å‘¢ï¼Ÿ</p>
<p>ç­”æ¡ˆå°±æ˜¯æ“ä½œç³»ç»Ÿè½®æµè®©å„ä¸ªä»»åŠ¡äº¤æ›¿æ‰§è¡Œï¼Œä»»åŠ¡1æ‰§è¡Œ0.01ç§’ï¼Œåˆ‡æ¢åˆ°ä»»åŠ¡2ï¼Œä»»åŠ¡2æ‰§è¡Œ0.01ç§’ï¼Œå†åˆ‡æ¢åˆ°ä»»åŠ¡3ï¼Œæ‰§è¡Œ0.01ç§’â€¦â€¦è¿™æ ·åå¤æ‰§è¡Œä¸‹å»ã€‚è¡¨é¢ä¸Šçœ‹ï¼Œæ¯ä¸ªä»»åŠ¡éƒ½æ˜¯äº¤æ›¿æ‰§è¡Œçš„ï¼Œä½†æ˜¯ï¼Œç”±äºCPUçš„æ‰§è¡Œé€Ÿåº¦å®åœ¨æ˜¯å¤ªå¿«äº†ï¼Œæˆ‘ä»¬æ„Ÿè§‰å°±åƒæ‰€æœ‰ä»»åŠ¡éƒ½åœ¨åŒæ—¶æ‰§è¡Œä¸€æ ·ã€‚</p>
<p>çœŸæ­£çš„å¹¶è¡Œæ‰§è¡Œå¤šä»»åŠ¡åªèƒ½åœ¨å¤šæ ¸CPUä¸Šå®ç°ï¼Œä½†æ˜¯ï¼Œç”±äºä»»åŠ¡æ•°é‡è¿œè¿œå¤šäºCPUçš„æ ¸å¿ƒæ•°é‡ï¼Œæ‰€ä»¥ï¼Œæ“ä½œç³»ç»Ÿä¹Ÿä¼šè‡ªåŠ¨æŠŠå¾ˆå¤šä»»åŠ¡è½®æµè°ƒåº¦åˆ°æ¯ä¸ªæ ¸å¿ƒä¸Šæ‰§è¡Œã€‚</p>
<p><img src="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220319205411.jpg" alt="img" loading="lazy"></p>
<p><img src="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220319205417.gif" alt="img" loading="lazy"></p>
<p><img src="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220319205426.gif" alt="img" loading="lazy"></p>
<h4 id="æ³¨æ„ï¼š"><a href="#æ³¨æ„ï¼š" class="headerlink" title="æ³¨æ„ï¼š"></a>æ³¨æ„ï¼š</h4><ul>
<li>**&#x3D;&#x3D;å¹¶å‘&#x3D;&#x3D;**ï¼šæŒ‡çš„æ˜¯ä»»åŠ¡æ•°å¤šä½™cpuæ ¸æ•°ï¼Œé€šè¿‡æ“ä½œç³»ç»Ÿçš„å„ç§ä»»åŠ¡è°ƒåº¦ç®—æ³•ï¼Œå®ç°ç”¨å¤šä¸ªä»»åŠ¡â€œä¸€èµ·â€æ‰§è¡Œï¼ˆå®é™…ä¸Šæ€»æœ‰ä¸€äº›ä»»åŠ¡ä¸åœ¨æ‰§è¡Œï¼Œå› ä¸ºåˆ‡æ¢ä»»åŠ¡çš„é€Ÿåº¦ç›¸å½“å¿«ï¼Œçœ‹ä¸Šå»ä¸€èµ·æ‰§è¡Œè€Œå·²ï¼‰</li>
<li>**&#x3D;&#x3D;å¹¶è¡Œ&#x3D;&#x3D;**ï¼šæŒ‡çš„æ˜¯ä»»åŠ¡æ•°å°äºç­‰äºcpuæ ¸æ•°ï¼Œå³ä»»åŠ¡çœŸçš„æ˜¯ä¸€èµ·æ‰§è¡Œçš„</li>
</ul>
<h1 id="çº¿ç¨‹"><a href="#çº¿ç¨‹" class="headerlink" title="çº¿ç¨‹"></a>çº¿ç¨‹</h1><p>pythonçš„threadæ¨¡å—æ˜¯æ¯”è¾ƒåº•å±‚çš„æ¨¡å—ï¼Œpythonçš„threadingæ¨¡å—æ˜¯å¯¹threadåšäº†ä¸€äº›åŒ…è£…çš„ï¼Œå¯ä»¥æ›´åŠ æ–¹ä¾¿çš„è¢«ä½¿ç”¨</p>
<h3 id="1-ä½¿ç”¨threadingæ¨¡å—"><a href="#1-ä½¿ç”¨threadingæ¨¡å—" class="headerlink" title="1. ä½¿ç”¨threadingæ¨¡å—"></a>1. ä½¿ç”¨threadingæ¨¡å—</h3><h4 id="å•çº¿ç¨‹æ‰§è¡Œ"><a href="#å•çº¿ç¨‹æ‰§è¡Œ" class="headerlink" title="å•çº¿ç¨‹æ‰§è¡Œ"></a>å•çº¿ç¨‹æ‰§è¡Œ</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#coding=utf-8</span>
<span class="token keyword">import</span> time

<span class="token keyword">def</span> <span class="token function">saySorry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"äº²çˆ±çš„ï¼Œæˆ‘é”™äº†ï¼Œæˆ‘èƒ½åƒé¥­äº†å—ï¼Ÿ"</span><span class="token punctuation">)</span>
    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        saySorry<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¿è¡Œç»“æœï¼š</p>
<p><img src="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220319205623.gif" alt="img" loading="lazy"></p>
<h4 id="å¤šçº¿ç¨‹æ‰§è¡Œ"><a href="#å¤šçº¿ç¨‹æ‰§è¡Œ" class="headerlink" title="å¤šçº¿ç¨‹æ‰§è¡Œ"></a>å¤šçº¿ç¨‹æ‰§è¡Œ</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#coding=utf-8</span>
<span class="token keyword">import</span> threading
<span class="token keyword">import</span> time

<span class="token keyword">def</span> <span class="token function">saySorry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"äº²çˆ±çš„ï¼Œæˆ‘é”™äº†ï¼Œæˆ‘èƒ½åƒé¥­äº†å—ï¼Ÿ"</span><span class="token punctuation">)</span>
    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        t <span class="token operator">=</span> threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>saySorry<span class="token punctuation">)</span>
        t<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#å¯åŠ¨çº¿ç¨‹ï¼Œå³è®©çº¿ç¨‹å¼€å§‹æ‰§è¡Œ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¿è¡Œç»“æœï¼š</p>
<p><img src="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220319205706.gif" alt="img" loading="lazy"></p>
<h4 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h4><ol>
<li>å¯ä»¥æ˜æ˜¾çœ‹å‡ºä½¿ç”¨äº†å¤šçº¿ç¨‹å¹¶å‘çš„æ“ä½œï¼ŒèŠ±è´¹æ—¶é—´è¦çŸ­å¾ˆå¤š</li>
<li>å½“è°ƒç”¨<code>start()</code>æ—¶ï¼Œæ‰ä¼šçœŸæ­£çš„åˆ›å»ºçº¿ç¨‹ï¼Œå¹¶ä¸”å¼€å§‹æ‰§è¡Œ</li>
</ol>
<h3 id="2-ä¸»çº¿ç¨‹ä¼šç­‰å¾…æ‰€æœ‰çš„å­çº¿ç¨‹ç»“æŸåæ‰ç»“æŸ"><a href="#2-ä¸»çº¿ç¨‹ä¼šç­‰å¾…æ‰€æœ‰çš„å­çº¿ç¨‹ç»“æŸåæ‰ç»“æŸ" class="headerlink" title="2. ä¸»çº¿ç¨‹ä¼šç­‰å¾…æ‰€æœ‰çš„å­çº¿ç¨‹ç»“æŸåæ‰ç»“æŸ"></a>2. ä¸»çº¿ç¨‹ä¼šç­‰å¾…æ‰€æœ‰çš„å­çº¿ç¨‹ç»“æŸåæ‰ç»“æŸ</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#coding=utf-8</span>
<span class="token keyword">import</span> threading
<span class="token keyword">from</span> time <span class="token keyword">import</span> sleep<span class="token punctuation">,</span>ctime

<span class="token keyword">def</span> <span class="token function">sing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"æ­£åœ¨å”±æ­Œ...%d"</span><span class="token operator">%</span>i<span class="token punctuation">)</span>
        sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">dance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"æ­£åœ¨è·³èˆ...%d"</span><span class="token operator">%</span>i<span class="token punctuation">)</span>
        sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'---å¼€å§‹---:%s'</span><span class="token operator">%</span>ctime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    t1 <span class="token operator">=</span> threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>sing<span class="token punctuation">)</span>
    t2 <span class="token operator">=</span> threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>dance<span class="token punctuation">)</span>

    t1<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>
    t2<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">#sleep(5) # å±è”½æ­¤è¡Œä»£ç ï¼Œè¯•è¯•çœ‹ï¼Œç¨‹åºæ˜¯å¦ä¼šç«‹é©¬ç»“æŸï¼Ÿ</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'---ç»“æŸ---:%s'</span><span class="token operator">%</span>ctime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220319205759.gif" alt="img" loading="lazy"></p>
<h3 id="3-æŸ¥çœ‹çº¿ç¨‹æ•°é‡"><a href="#3-æŸ¥çœ‹çº¿ç¨‹æ•°é‡" class="headerlink" title="3. æŸ¥çœ‹çº¿ç¨‹æ•°é‡"></a>3. æŸ¥çœ‹çº¿ç¨‹æ•°é‡</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#coding=utf-8</span>
<span class="token keyword">import</span> threading
<span class="token keyword">from</span> time <span class="token keyword">import</span> sleep<span class="token punctuation">,</span>ctime

<span class="token keyword">def</span> <span class="token function">sing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"æ­£åœ¨å”±æ­Œ...%d"</span><span class="token operator">%</span>i<span class="token punctuation">)</span>
        sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">dance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"æ­£åœ¨è·³èˆ...%d"</span><span class="token operator">%</span>i<span class="token punctuation">)</span>
        sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'---å¼€å§‹---:%s'</span><span class="token operator">%</span>ctime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    t1 <span class="token operator">=</span> threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>sing<span class="token punctuation">)</span>
    t2 <span class="token operator">=</span> threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>dance<span class="token punctuation">)</span>

    t1<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>
    t2<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        length <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>threading<span class="token punctuation">.</span><span class="token builtin">enumerate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'å½“å‰è¿è¡Œçš„çº¿ç¨‹æ•°ä¸ºï¼š%d'</span><span class="token operator">%</span>length<span class="token punctuation">)</span>
        <span class="token keyword">if</span> length<span class="token operator">&lt;=</span><span class="token number">1</span><span class="token punctuation">:</span>
            <span class="token keyword">break</span>

        sleep<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220319210210.gif" alt="img" loading="lazy"></p>
<h1 id="çº¿ç¨‹-æ³¨æ„ç‚¹"><a href="#çº¿ç¨‹-æ³¨æ„ç‚¹" class="headerlink" title="çº¿ç¨‹-æ³¨æ„ç‚¹"></a>çº¿ç¨‹-æ³¨æ„ç‚¹</h1><h4 id="1-çº¿ç¨‹æ‰§è¡Œä»£ç çš„å°è£…"><a href="#1-çº¿ç¨‹æ‰§è¡Œä»£ç çš„å°è£…" class="headerlink" title="1. çº¿ç¨‹æ‰§è¡Œä»£ç çš„å°è£…"></a>1. çº¿ç¨‹æ‰§è¡Œä»£ç çš„å°è£…</h4><p>é€šè¿‡ä¸Šä¸€å°èŠ‚ï¼Œèƒ½å¤Ÿçœ‹å‡ºï¼Œé€šè¿‡ä½¿ç”¨threadingæ¨¡å—èƒ½å®Œæˆå¤šä»»åŠ¡çš„ç¨‹åºå¼€å‘ï¼Œä¸ºäº†è®©æ¯ä¸ªçº¿ç¨‹çš„å°è£…æ€§æ›´å®Œç¾ï¼Œæ‰€ä»¥ä½¿ç”¨threadingæ¨¡å—æ—¶ï¼Œå¾€å¾€ä¼šå®šä¹‰ä¸€ä¸ªæ–°çš„å­ç±»classï¼Œåªè¦ç»§æ‰¿<code>threading.Thread</code>å°±å¯ä»¥äº†ï¼Œç„¶åé‡å†™<code>run</code>æ–¹æ³•</p>
<p>ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#coding=utf-8</span>
<span class="token keyword">import</span> threading
<span class="token keyword">import</span> time

<span class="token keyword">class</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span>threading<span class="token punctuation">.</span>Thread<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
            msg <span class="token operator">=</span> <span class="token string">"I'm "</span><span class="token operator">+</span>self<span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">' @ '</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token comment">#nameå±æ€§ä¸­ä¿å­˜çš„æ˜¯å½“å‰çº¿ç¨‹çš„åå­—</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    t <span class="token operator">=</span> MyThread<span class="token punctuation">(</span><span class="token punctuation">)</span>
    t<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220319210233.gif" alt="img" loading="lazy"></p>
<h3 id="è¯´æ˜-1"><a href="#è¯´æ˜-1" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><ul>
<li>pythonçš„threading.Threadç±»æœ‰ä¸€ä¸ªrunæ–¹æ³•ï¼Œç”¨äºå®šä¹‰çº¿ç¨‹çš„åŠŸèƒ½å‡½æ•°ï¼Œå¯ä»¥åœ¨è‡ªå·±çš„çº¿ç¨‹ç±»ä¸­è¦†ç›–è¯¥æ–¹æ³•ã€‚è€Œåˆ›å»ºè‡ªå·±çš„çº¿ç¨‹å®ä¾‹åï¼Œé€šè¿‡Threadç±»çš„startæ–¹æ³•ï¼Œå¯ä»¥å¯åŠ¨è¯¥çº¿ç¨‹ï¼Œäº¤ç»™pythonè™šæ‹Ÿæœºè¿›è¡Œè°ƒåº¦ï¼Œå½“è¯¥çº¿ç¨‹è·å¾—æ‰§è¡Œçš„æœºä¼šæ—¶ï¼Œå°±ä¼šè°ƒç”¨runæ–¹æ³•æ‰§è¡Œçº¿ç¨‹ã€‚</li>
</ul>
<h4 id="2-çº¿ç¨‹çš„æ‰§è¡Œé¡ºåº"><a href="#2-çº¿ç¨‹çš„æ‰§è¡Œé¡ºåº" class="headerlink" title="2. çº¿ç¨‹çš„æ‰§è¡Œé¡ºåº"></a>2. çº¿ç¨‹çš„æ‰§è¡Œé¡ºåº</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#coding=utf-8</span>
<span class="token keyword">import</span> threading
<span class="token keyword">import</span> time

<span class="token keyword">class</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span>threading<span class="token punctuation">.</span>Thread<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
            msg <span class="token operator">=</span> <span class="token string">"I'm "</span><span class="token operator">+</span>self<span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">' @ '</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        t <span class="token operator">=</span> MyThread<span class="token punctuation">(</span><span class="token punctuation">)</span>
        t<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    test<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>æ‰§è¡Œç»“æœï¼š(è¿è¡Œçš„ç»“æœå¯èƒ½ä¸ä¸€æ ·ï¼Œä½†æ˜¯å¤§ä½“æ˜¯ä¸€è‡´çš„)</p>
<pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">I&#39;m Thread-1 @ 0
I&#39;m Thread-2 @ 0
I&#39;m Thread-5 @ 0
I&#39;m Thread-3 @ 0
I&#39;m Thread-4 @ 0
I&#39;m Thread-3 @ 1
I&#39;m Thread-4 @ 1
I&#39;m Thread-5 @ 1
I&#39;m Thread-1 @ 1
I&#39;m Thread-2 @ 1
I&#39;m Thread-4 @ 2
I&#39;m Thread-5 @ 2
I&#39;m Thread-2 @ 2
I&#39;m Thread-1 @ 2
I&#39;m Thread-3 @ 2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="è¯´æ˜-2"><a href="#è¯´æ˜-2" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h4><p>ä»ä»£ç å’Œæ‰§è¡Œç»“æœæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œå¤šçº¿ç¨‹ç¨‹åºçš„æ‰§è¡Œé¡ºåºæ˜¯ä¸ç¡®å®šçš„ã€‚å½“æ‰§è¡Œåˆ°sleepè¯­å¥æ—¶ï¼Œçº¿ç¨‹å°†è¢«é˜»å¡ï¼ˆBlockedï¼‰ï¼Œåˆ°sleepç»“æŸåï¼Œçº¿ç¨‹è¿›å…¥å°±ç»ªï¼ˆRunnableï¼‰çŠ¶æ€ï¼Œç­‰å¾…è°ƒåº¦ã€‚è€Œçº¿ç¨‹è°ƒåº¦å°†è‡ªè¡Œé€‰æ‹©ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œã€‚ä¸Šé¢çš„ä»£ç ä¸­åªèƒ½ä¿è¯æ¯ä¸ªçº¿ç¨‹éƒ½è¿è¡Œå®Œæ•´ä¸ªrunå‡½æ•°ï¼Œä½†æ˜¯çº¿ç¨‹çš„å¯åŠ¨é¡ºåºã€runå‡½æ•°ä¸­æ¯æ¬¡å¾ªç¯çš„æ‰§è¡Œé¡ºåºéƒ½ä¸èƒ½ç¡®å®šã€‚</p>
<h3 id="3-æ€»ç»“"><a href="#3-æ€»ç»“" class="headerlink" title="3. æ€»ç»“"></a>3. æ€»ç»“</h3><ol>
<li>æ¯ä¸ªçº¿ç¨‹é»˜è®¤æœ‰ä¸€ä¸ªåå­—ï¼Œå°½ç®¡ä¸Šé¢çš„ä¾‹å­ä¸­æ²¡æœ‰æŒ‡å®šçº¿ç¨‹å¯¹è±¡çš„nameï¼Œä½†æ˜¯pythonä¼šè‡ªåŠ¨ä¸ºçº¿ç¨‹æŒ‡å®šä¸€ä¸ªåå­—ã€‚</li>
<li>å½“çº¿ç¨‹çš„run()æ–¹æ³•ç»“æŸæ—¶è¯¥çº¿ç¨‹å®Œæˆã€‚</li>
<li>æ— æ³•æ§åˆ¶çº¿ç¨‹è°ƒåº¦ç¨‹åºï¼Œä½†å¯ä»¥é€šè¿‡åˆ«çš„æ–¹å¼æ¥å½±å“çº¿ç¨‹è°ƒåº¦çš„æ–¹å¼ã€‚</li>
</ol>
<h1 id="å¤šçº¿ç¨‹-å…±äº«å…¨å±€å˜é‡"><a href="#å¤šçº¿ç¨‹-å…±äº«å…¨å±€å˜é‡" class="headerlink" title="å¤šçº¿ç¨‹-å…±äº«å…¨å±€å˜é‡"></a>å¤šçº¿ç¨‹-å…±äº«å…¨å±€å˜é‡</h1><p>åœ¨ä¸€ä¸ªå‡½æ•°ä¸­å¯¹å…¨å±€å˜å±‹è¿›è¡Œä¿®æ”¹çš„æ—¶å€™ï¼Œåˆ°åº•æ˜¯é¦™éœ€è¦ä½¿ç”¨<code>global</code>è¿›è¡Œè¯´æ˜è¦çœ‹æ˜¯å¦å¯¹å…¨å±€å˜é‡çš„æ‰§è¡ŒæŒ‡å‘è¿›è¡Œäº†ä¿®æ”¹å¦‚æœä¿®æ”¹äº†æ‰§è¡Œï¼Œå³ä¸Šå…¨å±€å˜é‡æŒ‡å‘äº†ä¸€ä¸ªæ–°çš„åœ°æ–¹ï¼Œé‚£ä¹ˆå¿…é¡»ä½¿ç”¨<code>global</code>å¦‚æœï¼Œä»…ä»…æ˜¯ä¿®æ”¹äº†æŒ‡å‘çš„ç©ºé—´ä¸­çš„æ•°æ®ï¼Œæ­¤æ—¶ä¸ç”¨å¿…é¡»ä½¿ç”¨<code>global</code></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> threading <span class="token keyword">import</span> Thread
<span class="token keyword">import</span> time

g_num <span class="token operator">=</span> <span class="token number">100</span>

<span class="token keyword">def</span> <span class="token function">work1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">global</span> g_num
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        g_num <span class="token operator">+=</span> <span class="token number">1</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"----in work1, g_num is %d---"</span><span class="token operator">%</span>g_num<span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">work2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">global</span> g_num
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"----in work2, g_num is %d---"</span><span class="token operator">%</span>g_num<span class="token punctuation">)</span>


<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"---çº¿ç¨‹åˆ›å»ºä¹‹å‰g_num is %d---"</span><span class="token operator">%</span>g_num<span class="token punctuation">)</span>

t1 <span class="token operator">=</span> Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>work1<span class="token punctuation">)</span>
t1<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">#å»¶æ—¶ä¸€ä¼šï¼Œä¿è¯t1çº¿ç¨‹ä¸­çš„äº‹æƒ…åšå®Œ</span>
time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

t2 <span class="token operator">=</span> Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>work2<span class="token punctuation">)</span>
t2<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¿è¡Œç»“æœ:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>çº¿ç¨‹åˆ›å»ºä¹‹å‰g_num <span class="token keyword">is</span> <span class="token number">100</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token keyword">in</span> work1<span class="token punctuation">,</span> g_num <span class="token keyword">is</span> <span class="token number">103</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token keyword">in</span> work2<span class="token punctuation">,</span> g_num <span class="token keyword">is</span> <span class="token number">103</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h2 id="åˆ—è¡¨å½“åšå®å‚ä¼ é€’åˆ°çº¿ç¨‹ä¸­"><a href="#åˆ—è¡¨å½“åšå®å‚ä¼ é€’åˆ°çº¿ç¨‹ä¸­" class="headerlink" title="åˆ—è¡¨å½“åšå®å‚ä¼ é€’åˆ°çº¿ç¨‹ä¸­"></a>åˆ—è¡¨å½“åšå®å‚ä¼ é€’åˆ°çº¿ç¨‹ä¸­</h2><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> threading <span class="token keyword">import</span> Thread
<span class="token keyword">import</span> time

<span class="token keyword">def</span> <span class="token function">work1</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">:</span>
    nums<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">44</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"----in work1---"</span><span class="token punctuation">,</span>nums<span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">work2</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment">#å»¶æ—¶ä¸€ä¼šï¼Œä¿è¯t1çº¿ç¨‹ä¸­çš„äº‹æƒ…åšå®Œ</span>
    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"----in work2---"</span><span class="token punctuation">,</span>nums<span class="token punctuation">)</span>

g_nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">,</span><span class="token number">33</span><span class="token punctuation">]</span>

t1 <span class="token operator">=</span> Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>work1<span class="token punctuation">,</span> args<span class="token operator">=</span><span class="token punctuation">(</span>g_nums<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
t1<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>

t2 <span class="token operator">=</span> Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>work2<span class="token punctuation">,</span> args<span class="token operator">=</span><span class="token punctuation">(</span>g_nums<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
t2<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¿è¡Œç»“æœ:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token keyword">in</span> work1<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span> <span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">44</span><span class="token punctuation">]</span>
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token keyword">in</span> work2<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span> <span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">44</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h2 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h2><ul>
<li>åœ¨ä¸€ä¸ªè¿›ç¨‹å†…çš„æ‰€æœ‰çº¿ç¨‹å…±äº«å…¨å±€å˜é‡ï¼Œå¾ˆæ–¹ä¾¿åœ¨å¤šä¸ªçº¿ç¨‹é—´å…±äº«æ•°æ®</li>
<li>ç¼ºç‚¹å°±æ˜¯ï¼Œçº¿ç¨‹æ˜¯å¯¹å…¨å±€å˜é‡éšæ„é‚æ”¹å¯èƒ½é€ æˆå¤šçº¿ç¨‹ä¹‹é—´å¯¹å…¨å±€å˜é‡çš„æ··ä¹±ï¼ˆå³çº¿ç¨‹éå®‰å…¨ï¼‰</li>
</ul>
<h1 id="å¤šçº¿ç¨‹-å…±äº«å…¨å±€å˜é‡é—®é¢˜"><a href="#å¤šçº¿ç¨‹-å…±äº«å…¨å±€å˜é‡é—®é¢˜" class="headerlink" title="å¤šçº¿ç¨‹-å…±äº«å…¨å±€å˜é‡é—®é¢˜"></a>å¤šçº¿ç¨‹-å…±äº«å…¨å±€å˜é‡é—®é¢˜</h1><h3 id="å¤šçº¿ç¨‹å¼€å‘å¯èƒ½é‡åˆ°çš„é—®é¢˜"><a href="#å¤šçº¿ç¨‹å¼€å‘å¯èƒ½é‡åˆ°çš„é—®é¢˜" class="headerlink" title="å¤šçº¿ç¨‹å¼€å‘å¯èƒ½é‡åˆ°çš„é—®é¢˜"></a>å¤šçº¿ç¨‹å¼€å‘å¯èƒ½é‡åˆ°çš„é—®é¢˜</h3><p>å‡è®¾ä¸¤ä¸ªçº¿ç¨‹t1å’Œt2éƒ½è¦å¯¹å…¨å±€å˜é‡g_num(é»˜è®¤æ˜¯0)è¿›è¡ŒåŠ 1è¿ç®—ï¼Œt1å’Œt2éƒ½å„å¯¹g_numåŠ 10æ¬¡ï¼Œg_numçš„æœ€ç»ˆçš„ç»“æœåº”è¯¥ä¸º20ã€‚</p>
<p>ä½†æ˜¯ç”±äºæ˜¯å¤šçº¿ç¨‹åŒæ—¶æ“ä½œï¼Œæœ‰å¯èƒ½å‡ºç°ä¸‹é¢æƒ…å†µï¼š</p>
<ol>
<li>åœ¨g_num&#x3D;0æ—¶ï¼Œt1å–å¾—g_num&#x3D;0ã€‚æ­¤æ—¶ç³»ç»ŸæŠŠt1è°ƒåº¦ä¸ºâ€sleepingâ€çŠ¶æ€ï¼ŒæŠŠt2è½¬æ¢ä¸ºâ€runningâ€çŠ¶æ€ï¼Œt2ä¹Ÿè·å¾—g_num&#x3D;0</li>
<li>ç„¶åt2å¯¹å¾—åˆ°çš„å€¼è¿›è¡ŒåŠ 1å¹¶èµ‹ç»™g_numï¼Œä½¿å¾—g_num&#x3D;1</li>
<li>ç„¶åç³»ç»ŸåˆæŠŠt2è°ƒåº¦ä¸ºâ€sleepingâ€ï¼ŒæŠŠt1è½¬ä¸ºâ€runningâ€ã€‚çº¿ç¨‹t1åˆæŠŠå®ƒä¹‹å‰å¾—åˆ°çš„0åŠ 1åèµ‹å€¼ç»™g_numã€‚</li>
<li>è¿™æ ·å¯¼è‡´è™½ç„¶t1å’Œt2éƒ½å¯¹g_numåŠ 1ï¼Œä½†ç»“æœä»ç„¶æ˜¯g_num&#x3D;1</li>
</ol>
<h4 id="æµ‹è¯•1"><a href="#æµ‹è¯•1" class="headerlink" title="æµ‹è¯•1"></a>æµ‹è¯•1</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> threading
<span class="token keyword">import</span> time

g_num <span class="token operator">=</span> <span class="token number">0</span>

<span class="token keyword">def</span> <span class="token function">work1</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">global</span> g_num
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">:</span>
        g_num <span class="token operator">+=</span> <span class="token number">1</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"----in work1, g_num is %d---"</span><span class="token operator">%</span>g_num<span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">work2</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">global</span> g_num
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">:</span>
        g_num <span class="token operator">+=</span> <span class="token number">1</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"----in work2, g_num is %d---"</span><span class="token operator">%</span>g_num<span class="token punctuation">)</span>


<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"---çº¿ç¨‹åˆ›å»ºä¹‹å‰g_num is %d---"</span><span class="token operator">%</span>g_num<span class="token punctuation">)</span>

t1 <span class="token operator">=</span> threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>work1<span class="token punctuation">,</span> args<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
t1<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>

t2 <span class="token operator">=</span> threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>work2<span class="token punctuation">,</span> args<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
t2<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">while</span> <span class="token builtin">len</span><span class="token punctuation">(</span>threading<span class="token punctuation">.</span><span class="token builtin">enumerate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">1</span><span class="token punctuation">:</span>
    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"2ä¸ªçº¿ç¨‹å¯¹åŒä¸€ä¸ªå…¨å±€å˜é‡æ“ä½œä¹‹åçš„æœ€ç»ˆç»“æœæ˜¯:%s"</span> <span class="token operator">%</span> g_num<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="è¿è¡Œç»“æœï¼š"><a href="#è¿è¡Œç»“æœï¼š" class="headerlink" title="è¿è¡Œç»“æœï¼š"></a>è¿è¡Œç»“æœï¼š</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>çº¿ç¨‹åˆ›å»ºä¹‹å‰g_num <span class="token keyword">is</span> <span class="token number">0</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token keyword">in</span> work1<span class="token punctuation">,</span> g_num <span class="token keyword">is</span> <span class="token number">100</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token keyword">in</span> work2<span class="token punctuation">,</span> g_num <span class="token keyword">is</span> <span class="token number">200</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
<span class="token number">2</span>ä¸ªçº¿ç¨‹å¯¹åŒä¸€ä¸ªå…¨å±€å˜é‡æ“ä½œä¹‹åçš„æœ€ç»ˆç»“æœæ˜¯<span class="token punctuation">:</span><span class="token number">200</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="æµ‹è¯•2"><a href="#æµ‹è¯•2" class="headerlink" title="æµ‹è¯•2"></a>æµ‹è¯•2</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> threading
<span class="token keyword">import</span> time

g_num <span class="token operator">=</span> <span class="token number">0</span>

<span class="token keyword">def</span> <span class="token function">work1</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">global</span> g_num
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">:</span>
        g_num <span class="token operator">+=</span> <span class="token number">1</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"----in work1, g_num is %d---"</span><span class="token operator">%</span>g_num<span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">work2</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">global</span> g_num
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">:</span>
        g_num <span class="token operator">+=</span> <span class="token number">1</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"----in work2, g_num is %d---"</span><span class="token operator">%</span>g_num<span class="token punctuation">)</span>


<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"---çº¿ç¨‹åˆ›å»ºä¹‹å‰g_num is %d---"</span><span class="token operator">%</span>g_num<span class="token punctuation">)</span>

t1 <span class="token operator">=</span> threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>work1<span class="token punctuation">,</span> args<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1000000</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
t1<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>

t2 <span class="token operator">=</span> threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>work2<span class="token punctuation">,</span> args<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1000000</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
t2<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">while</span> <span class="token builtin">len</span><span class="token punctuation">(</span>threading<span class="token punctuation">.</span><span class="token builtin">enumerate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">1</span><span class="token punctuation">:</span>
    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"2ä¸ªçº¿ç¨‹å¯¹åŒä¸€ä¸ªå…¨å±€å˜é‡æ“ä½œä¹‹åçš„æœ€ç»ˆç»“æœæ˜¯:%s"</span> <span class="token operator">%</span> g_num<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="è¿è¡Œç»“æœï¼š-1"><a href="#è¿è¡Œç»“æœï¼š-1" class="headerlink" title="è¿è¡Œç»“æœï¼š"></a>è¿è¡Œç»“æœï¼š</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>çº¿ç¨‹åˆ›å»ºä¹‹å‰g_num <span class="token keyword">is</span> <span class="token number">0</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token keyword">in</span> work1<span class="token punctuation">,</span> g_num <span class="token keyword">is</span> <span class="token number">1088005</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token keyword">in</span> work2<span class="token punctuation">,</span> g_num <span class="token keyword">is</span> <span class="token number">1286202</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
<span class="token number">2</span>ä¸ªçº¿ç¨‹å¯¹åŒä¸€ä¸ªå…¨å±€å˜é‡æ“ä½œä¹‹åçš„æœ€ç»ˆç»“æœæ˜¯<span class="token punctuation">:</span><span class="token number">1286202</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h3><ul>
<li>&#x3D;&#x3D;å¦‚æœå¤šä¸ªçº¿ç¨‹åŒæ—¶å¯¹åŒä¸€ä¸ªå…¨å±€å˜é‡æ“ä½œï¼Œä¼šå‡ºç°èµ„æºç«äº‰é—®é¢˜ï¼Œä»è€Œæ•°æ®ç»“æœä¼šä¸æ­£ç¡®&#x3D;&#x3D;</li>
</ul>
<h1 id="åŒæ­¥çš„æ¦‚å¿µ"><a href="#åŒæ­¥çš„æ¦‚å¿µ" class="headerlink" title="åŒæ­¥çš„æ¦‚å¿µ"></a>åŒæ­¥çš„æ¦‚å¿µ</h1><p>åŒæ­¥å°±æ˜¯ååŒæ­¥è°ƒï¼ŒæŒ‰é¢„å®šçš„å…ˆåæ¬¡åºè¿›è¡Œè¿è¡Œã€‚å¦‚:ä½ è¯´å®Œï¼Œæˆ‘å†è¯´ã€‚</p>
<p>â€œåŒâ€å­—ä»å­—é¢ä¸Šå®¹æ˜“ç†è§£ä¸ºä¸€èµ·åŠ¨ä½œ</p>
<p>å…¶å®ä¸æ˜¯ï¼Œâ€åŒâ€å­—åº”æ˜¯æŒ‡ååŒã€ååŠ©ã€äº’ç›¸é…åˆã€‚</p>
<p>å¦‚è¿›ç¨‹ã€çº¿ç¨‹åŒæ­¥ï¼Œå¯ç†è§£ä¸ºè¿›ç¨‹æˆ–çº¿ç¨‹Aå’ŒBä¸€å—é…åˆï¼ŒAæ‰§è¡Œåˆ°ä¸€å®šç¨‹åº¦æ—¶è¦ä¾é Bçš„æŸä¸ªç»“æœï¼Œäºæ˜¯åœä¸‹æ¥ï¼Œç¤ºæ„Bè¿è¡Œ;Bæ‰§è¡Œï¼Œå†å°†ç»“æœç»™A;Aå†ç»§ç»­æ“ä½œã€‚</p>
<h4 id="è§£å†³çº¿ç¨‹åŒæ—¶ä¿®æ”¹å…¨å±€å˜é‡çš„æ–¹å¼"><a href="#è§£å†³çº¿ç¨‹åŒæ—¶ä¿®æ”¹å…¨å±€å˜é‡çš„æ–¹å¼" class="headerlink" title="è§£å†³çº¿ç¨‹åŒæ—¶ä¿®æ”¹å…¨å±€å˜é‡çš„æ–¹å¼"></a>è§£å†³çº¿ç¨‹åŒæ—¶ä¿®æ”¹å…¨å±€å˜é‡çš„æ–¹å¼</h4><p>å¯¹äºä¸Šä¸€å°èŠ‚æå‡ºçš„é‚£ä¸ªè®¡ç®—é”™è¯¯çš„é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡çº¿ç¨‹åŒæ­¥æ¥è¿›è¡Œè§£å†³</p>
<p>æ€è·¯ï¼Œå¦‚ä¸‹:</p>
<ol>
<li>ç³»ç»Ÿè°ƒç”¨t1ï¼Œç„¶åè·å–åˆ°g_numçš„å€¼ä¸º0ï¼Œæ­¤æ—¶ä¸Šä¸€æŠŠé”ï¼Œå³ä¸å…è®¸å…¶ä»–çº¿ç¨‹æ“ä½œg_num</li>
<li>t1å¯¹g_numçš„å€¼è¿›è¡Œ+1</li>
<li>t1è§£é”ï¼Œæ­¤æ—¶g_numçš„å€¼ä¸º1ï¼Œå…¶ä»–çš„çº¿ç¨‹å°±å¯ä»¥ä½¿ç”¨g_numäº†ï¼Œè€Œä¸”æ˜¯g_numçš„å€¼ä¸æ˜¯0è€Œæ˜¯1</li>
<li>åŒç†å…¶ä»–çº¿ç¨‹åœ¨å¯¹g_numè¿›è¡Œä¿®æ”¹æ—¶ï¼Œéƒ½è¦å…ˆä¸Šé”ï¼Œå¤„ç†å®Œåå†è§£é”ï¼Œåœ¨ä¸Šé”çš„æ•´ä¸ªè¿‡ç¨‹ä¸­ä¸å…è®¸å…¶ä»–çº¿ç¨‹è®¿é—®ï¼Œå°±ä¿è¯äº†æ•°æ®çš„æ­£ç¡®æ€§</li>
</ol>
<h1 id="äº’æ–¥é”"><a href="#äº’æ–¥é”" class="headerlink" title="äº’æ–¥é”"></a>äº’æ–¥é”</h1><p>å½“å¤šä¸ªçº¿ç¨‹å‡ ä¹åŒæ—¶ä¿®æ”¹æŸä¸€ä¸ªå…±äº«æ•°æ®çš„æ—¶å€™ï¼Œéœ€è¦è¿›è¡ŒåŒæ­¥æ§åˆ¶</p>
<p>çº¿ç¨‹åŒæ­¥èƒ½å¤Ÿä¿è¯å¤šä¸ªçº¿ç¨‹å®‰å…¨è®¿é—®ç«äº‰èµ„æºï¼Œæœ€ç®€å•çš„åŒæ­¥æœºåˆ¶æ˜¯å¼•å…¥äº’æ–¥é”ã€‚</p>
<p>äº’æ–¥é”ä¸ºèµ„æºå¼•å…¥ä¸€ä¸ªçŠ¶æ€ï¼šé”å®š&#x2F;éé”å®š</p>
<p>æŸä¸ªçº¿ç¨‹è¦æ›´æ”¹å…±äº«æ•°æ®æ—¶ï¼Œå…ˆå°†å…¶é”å®šï¼Œæ­¤æ—¶èµ„æºçš„çŠ¶æ€ä¸ºâ€œé”å®šâ€ï¼Œå…¶ä»–çº¿ç¨‹ä¸èƒ½æ›´æ”¹ï¼›ç›´åˆ°è¯¥çº¿ç¨‹é‡Šæ”¾èµ„æºï¼Œå°†èµ„æºçš„çŠ¶æ€å˜æˆâ€œéé”å®šâ€ï¼Œå…¶ä»–çš„çº¿ç¨‹æ‰èƒ½å†æ¬¡é”å®šè¯¥èµ„æºã€‚äº’æ–¥é”ä¿è¯äº†æ¯æ¬¡åªæœ‰ä¸€ä¸ªçº¿ç¨‹è¿›è¡Œå†™å…¥æ“ä½œï¼Œä»è€Œä¿è¯äº†å¤šçº¿ç¨‹æƒ…å†µä¸‹æ•°æ®çš„æ­£ç¡®æ€§ã€‚</p>
<p><img src="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220319213103.png" alt="img" loading="lazy"></p>
<p>threadingæ¨¡å—ä¸­å®šä¹‰äº†Lockç±»ï¼Œå¯ä»¥æ–¹ä¾¿çš„å¤„ç†é”å®šï¼š</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># åˆ›å»ºé”</span>
mutex <span class="token operator">=</span> threading<span class="token punctuation">.</span>Lock<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># é”å®š</span>
mutex<span class="token punctuation">.</span>acquire<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># é‡Šæ”¾</span>
mutex<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="æ³¨æ„ï¼š-1"><a href="#æ³¨æ„ï¼š-1" class="headerlink" title="æ³¨æ„ï¼š"></a>æ³¨æ„ï¼š</h4><ul>
<li>å¦‚æœè¿™ä¸ªé”ä¹‹å‰æ˜¯æ²¡æœ‰ä¸Šé”çš„ï¼Œé‚£ä¹ˆacquireä¸ä¼šå µå¡</li>
<li>å¦‚æœåœ¨è°ƒç”¨acquireå¯¹è¿™ä¸ªé”ä¸Šé”ä¹‹å‰ å®ƒå·²ç»è¢« å…¶ä»–çº¿ç¨‹ä¸Šäº†é”ï¼Œé‚£ä¹ˆæ­¤æ—¶acquireä¼šå µå¡ï¼Œç›´åˆ°è¿™ä¸ªé”è¢«è§£é”ä¸ºæ­¢</li>
</ul>
<h4 id="ä½¿ç”¨äº’æ–¥é”å®Œæˆ2ä¸ªçº¿ç¨‹å¯¹åŒä¸€ä¸ªå…¨å±€å˜é‡å„åŠ 100ä¸‡æ¬¡çš„æ“ä½œ"><a href="#ä½¿ç”¨äº’æ–¥é”å®Œæˆ2ä¸ªçº¿ç¨‹å¯¹åŒä¸€ä¸ªå…¨å±€å˜é‡å„åŠ 100ä¸‡æ¬¡çš„æ“ä½œ" class="headerlink" title="ä½¿ç”¨äº’æ–¥é”å®Œæˆ2ä¸ªçº¿ç¨‹å¯¹åŒä¸€ä¸ªå…¨å±€å˜é‡å„åŠ 100ä¸‡æ¬¡çš„æ“ä½œ"></a>ä½¿ç”¨äº’æ–¥é”å®Œæˆ2ä¸ªçº¿ç¨‹å¯¹åŒä¸€ä¸ªå…¨å±€å˜é‡å„åŠ 100ä¸‡æ¬¡çš„æ“ä½œ</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> threading
<span class="token keyword">import</span> time

g_num <span class="token operator">=</span> <span class="token number">0</span>

<span class="token keyword">def</span> <span class="token function">test1</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">global</span> g_num
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">:</span>
        mutex<span class="token punctuation">.</span>acquire<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># ä¸Šé”</span>
        g_num <span class="token operator">+=</span> <span class="token number">1</span>
        mutex<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># è§£é”</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"---test1---g_num=%d"</span><span class="token operator">%</span>g_num<span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">test2</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">global</span> g_num
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">:</span>
        mutex<span class="token punctuation">.</span>acquire<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># ä¸Šé”</span>
        g_num <span class="token operator">+=</span> <span class="token number">1</span>
        mutex<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># è§£é”</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"---test2---g_num=%d"</span><span class="token operator">%</span>g_num<span class="token punctuation">)</span>

<span class="token comment"># åˆ›å»ºä¸€ä¸ªäº’æ–¥é”</span>
<span class="token comment"># é»˜è®¤æ˜¯æœªä¸Šé”çš„çŠ¶æ€</span>
mutex <span class="token operator">=</span> threading<span class="token punctuation">.</span>Lock<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># åˆ›å»º2ä¸ªçº¿ç¨‹ï¼Œè®©ä»–ä»¬å„è‡ªå¯¹g_numåŠ 1000000æ¬¡</span>
p1 <span class="token operator">=</span> threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>test1<span class="token punctuation">,</span> args<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1000000</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
p1<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>

p2 <span class="token operator">=</span> threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>test2<span class="token punctuation">,</span> args<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1000000</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
p2<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># ç­‰å¾…è®¡ç®—å®Œæˆ</span>
<span class="token keyword">while</span> <span class="token builtin">len</span><span class="token punctuation">(</span>threading<span class="token punctuation">.</span><span class="token builtin">enumerate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">1</span><span class="token punctuation">:</span>
    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"2ä¸ªçº¿ç¨‹å¯¹åŒä¸€ä¸ªå…¨å±€å˜é‡æ“ä½œä¹‹åçš„æœ€ç»ˆç»“æœæ˜¯:%s"</span> <span class="token operator">%</span> g_num<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¿è¡Œç»“æœï¼š</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>test1<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>g_num<span class="token operator">=</span><span class="token number">1909909</span>
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>test2<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>g_num<span class="token operator">=</span><span class="token number">2000000</span>
<span class="token number">2</span>ä¸ªçº¿ç¨‹å¯¹åŒä¸€ä¸ªå…¨å±€å˜é‡æ“ä½œä¹‹åçš„æœ€ç»ˆç»“æœæ˜¯<span class="token punctuation">:</span><span class="token number">2000000</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>å¯ä»¥çœ‹åˆ°æœ€åçš„ç»“æœï¼ŒåŠ å…¥äº’æ–¥é”åï¼Œå…¶ç»“æœä¸é¢„æœŸç›¸ç¬¦ã€‚</p>
<h2 id="ä¸Šé”è§£é”è¿‡ç¨‹"><a href="#ä¸Šé”è§£é”è¿‡ç¨‹" class="headerlink" title="ä¸Šé”è§£é”è¿‡ç¨‹"></a>ä¸Šé”è§£é”è¿‡ç¨‹</h2><p>å½“ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨é”çš„acquire()æ–¹æ³•è·å¾—é”æ—¶ï¼Œé”å°±è¿›å…¥â€œlockedâ€çŠ¶æ€ã€‚</p>
<p>æ¯æ¬¡åªæœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥è·å¾—é”ã€‚å¦‚æœæ­¤æ—¶å¦ä¸€ä¸ªçº¿ç¨‹è¯•å›¾è·å¾—è¿™ä¸ªé”ï¼Œè¯¥çº¿ç¨‹å°±ä¼šå˜ä¸ºâ€œblockedâ€çŠ¶æ€ï¼Œç§°ä¸ºâ€œé˜»å¡â€ï¼Œç›´åˆ°æ‹¥æœ‰é”çš„çº¿ç¨‹è°ƒç”¨é”çš„release()æ–¹æ³•é‡Šæ”¾é”ä¹‹åï¼Œé”è¿›å…¥â€œunlockedâ€çŠ¶æ€ã€‚</p>
<p>çº¿ç¨‹è°ƒåº¦ç¨‹åºä»å¤„äºåŒæ­¥é˜»å¡çŠ¶æ€çš„çº¿ç¨‹ä¸­é€‰æ‹©ä¸€ä¸ªæ¥è·å¾—é”ï¼Œå¹¶ä½¿å¾—è¯¥çº¿ç¨‹è¿›å…¥è¿è¡Œï¼ˆrunningï¼‰çŠ¶æ€ã€‚</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>é”çš„å¥½å¤„ï¼š</p>
<ul>
<li>ç¡®ä¿äº†æŸæ®µå…³é”®ä»£ç åªèƒ½ç”±ä¸€ä¸ªçº¿ç¨‹ä»å¤´åˆ°å°¾å®Œæ•´åœ°æ‰§è¡Œ</li>
</ul>
<p>é”çš„åå¤„ï¼š</p>
<ul>
<li>é˜»æ­¢äº†å¤šçº¿ç¨‹å¹¶å‘æ‰§è¡Œï¼ŒåŒ…å«é”çš„æŸæ®µä»£ç å®é™…ä¸Šåªèƒ½ä»¥å•çº¿ç¨‹æ¨¡å¼æ‰§è¡Œï¼Œæ•ˆç‡å°±å¤§å¤§åœ°ä¸‹é™äº†</li>
<li>ç”±äºå¯ä»¥å­˜åœ¨å¤šä¸ªé”ï¼Œä¸åŒçš„çº¿ç¨‹æŒæœ‰ä¸åŒçš„é”ï¼Œå¹¶è¯•å›¾è·å–å¯¹æ–¹æŒæœ‰çš„é”æ—¶ï¼Œå¯èƒ½ä¼šé€ æˆæ­»é”</li>
</ul>
<h1 id="æ­»é”"><a href="#æ­»é”" class="headerlink" title="æ­»é”"></a>æ­»é”</h1><p>ç°å®ç¤¾ä¼šä¸­ï¼Œç”·å¥³åŒæ–¹éƒ½åœ¨ç­‰å¾…å¯¹æ–¹å…ˆé“æ­‰</p>
<p><img src="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220319215542.png" alt="img" loading="lazy"></p>
<p>å¦‚æœåŒæ–¹éƒ½è¿™æ ·å›ºæ‰§çš„ç­‰å¾…å¯¹æ–¹å…ˆå¼€å£ï¼Œå¼„ä¸å¥½ï¼Œå°±åˆ†æœäº†</p>
<h3 id="1-æ­»é”"><a href="#1-æ­»é”" class="headerlink" title="1. æ­»é”"></a>1. æ­»é”</h3><p>åœ¨çº¿ç¨‹é—´å…±äº«å¤šä¸ªèµ„æºçš„æ—¶å€™ï¼Œå¦‚æœä¸¤ä¸ªçº¿ç¨‹åˆ†åˆ«å æœ‰ä¸€éƒ¨åˆ†èµ„æºå¹¶ä¸”åŒæ—¶ç­‰å¾…å¯¹æ–¹çš„èµ„æºï¼Œå°±ä¼šé€ æˆæ­»é”ã€‚</p>
<p>å°½ç®¡æ­»é”å¾ˆå°‘å‘ç”Ÿï¼Œä½†ä¸€æ—¦å‘ç”Ÿå°±ä¼šé€ æˆåº”ç”¨çš„åœæ­¢å“åº”ã€‚ä¸‹é¢çœ‹ä¸€ä¸ªæ­»é”çš„ä¾‹å­</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#coding=utf-8</span>
<span class="token keyword">import</span> threading
<span class="token keyword">import</span> time

<span class="token keyword">class</span> <span class="token class-name">MyThread1</span><span class="token punctuation">(</span>threading<span class="token punctuation">.</span>Thread<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># å¯¹mutexAä¸Šé”</span>
        mutexA<span class="token punctuation">.</span>acquire<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># mutexAä¸Šé”åï¼Œå»¶æ—¶1ç§’ï¼Œç­‰å¾…å¦å¤–é‚£ä¸ªçº¿ç¨‹ æŠŠmutexBä¸Šé”</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">'----do1---up----'</span><span class="token punctuation">)</span>
        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

        <span class="token comment"># æ­¤æ—¶ä¼šå µå¡ï¼Œå› ä¸ºè¿™ä¸ªmutexBå·²ç»è¢«å¦å¤–çš„çº¿ç¨‹æŠ¢å…ˆä¸Šé”äº†</span>
        mutexB<span class="token punctuation">.</span>acquire<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">'----do1---down----'</span><span class="token punctuation">)</span>
        mutexB<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># å¯¹mutexAè§£é”</span>
        mutexA<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">MyThread2</span><span class="token punctuation">(</span>threading<span class="token punctuation">.</span>Thread<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># å¯¹mutexBä¸Šé”</span>
        mutexB<span class="token punctuation">.</span>acquire<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># mutexBä¸Šé”åï¼Œå»¶æ—¶1ç§’ï¼Œç­‰å¾…å¦å¤–é‚£ä¸ªçº¿ç¨‹ æŠŠmutexAä¸Šé”</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">'----do2---up----'</span><span class="token punctuation">)</span>
        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

        <span class="token comment"># æ­¤æ—¶ä¼šå µå¡ï¼Œå› ä¸ºè¿™ä¸ªmutexAå·²ç»è¢«å¦å¤–çš„çº¿ç¨‹æŠ¢å…ˆä¸Šé”äº†</span>
        mutexA<span class="token punctuation">.</span>acquire<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">'----do2---down----'</span><span class="token punctuation">)</span>
        mutexA<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># å¯¹mutexBè§£é”</span>
        mutexB<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span>

mutexA <span class="token operator">=</span> threading<span class="token punctuation">.</span>Lock<span class="token punctuation">(</span><span class="token punctuation">)</span>
mutexB <span class="token operator">=</span> threading<span class="token punctuation">.</span>Lock<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    t1 <span class="token operator">=</span> MyThread1<span class="token punctuation">(</span><span class="token punctuation">)</span>
    t2 <span class="token operator">=</span> MyThread2<span class="token punctuation">(</span><span class="token punctuation">)</span>
    t1<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>
    t2<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¿è¡Œç»“æœï¼š </p>
<p><img src="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220319215630.gif" alt="img" loading="lazy"></p>
<p>æ­¤æ—¶å·²ç»è¿›å…¥åˆ°äº†æ­»é”çŠ¶æ€ï¼Œå¯ä»¥ä½¿ç”¨ctrl-cé€€å‡º</p>
<h3 id="2-é¿å…æ­»é”"><a href="#2-é¿å…æ­»é”" class="headerlink" title="2. é¿å…æ­»é”"></a>2. é¿å…æ­»é”</h3><ul>
<li>ç¨‹åºè®¾è®¡æ—¶è¦å°½é‡é¿å…ï¼ˆé“¶è¡Œå®¶ç®—æ³•ï¼‰</li>
<li>æ·»åŠ è¶…æ—¶æ—¶é—´ç­‰</li>
</ul>
<h3 id="é™„å½•-é“¶è¡Œå®¶ç®—æ³•"><a href="#é™„å½•-é“¶è¡Œå®¶ç®—æ³•" class="headerlink" title="é™„å½•-é“¶è¡Œå®¶ç®—æ³•"></a>é™„å½•-é“¶è¡Œå®¶ç®—æ³•</h3><p>[èƒŒæ™¯çŸ¥è¯†]</p>
<p>ä¸€ä¸ªé“¶è¡Œå®¶å¦‚ä½•å°†ä¸€å®šæ•°ç›®çš„èµ„é‡‘å®‰å…¨åœ°å€Ÿç»™è‹¥å¹²ä¸ªå®¢æˆ·ï¼Œä½¿è¿™äº›å®¢æˆ·æ—¢èƒ½å€Ÿåˆ°é’±å®Œæˆè¦å¹²çš„äº‹ï¼ŒåŒæ—¶é“¶è¡Œå®¶åˆèƒ½æ”¶å›å…¨éƒ¨èµ„é‡‘è€Œä¸è‡³äºç ´äº§ï¼Œè¿™å°±æ˜¯é“¶è¡Œå®¶é—®é¢˜ã€‚è¿™ä¸ªé—®é¢˜åŒæ“ä½œç³»ç»Ÿä¸­èµ„æºåˆ†é…é—®é¢˜ååˆ†ç›¸ä¼¼ï¼šé“¶è¡Œå®¶å°±åƒä¸€ä¸ªæ“ä½œç³»ç»Ÿï¼Œå®¢æˆ·å°±åƒè¿è¡Œçš„è¿›ç¨‹ï¼Œé“¶è¡Œå®¶çš„èµ„é‡‘å°±æ˜¯ç³»ç»Ÿçš„èµ„æºã€‚</p>
<p>[é—®é¢˜çš„æè¿°]</p>
<p>ä¸€ä¸ªé“¶è¡Œå®¶æ‹¥æœ‰ä¸€å®šæ•°é‡çš„èµ„é‡‘ï¼Œæœ‰è‹¥å¹²ä¸ªå®¢æˆ·è¦è´·æ¬¾ã€‚æ¯ä¸ªå®¢æˆ·é¡»åœ¨ä¸€å¼€å§‹å°±å£°æ˜ä»–æ‰€éœ€è´·æ¬¾çš„æ€»é¢ã€‚è‹¥è¯¥å®¢æˆ·è´·æ¬¾æ€»é¢ä¸è¶…è¿‡é“¶è¡Œå®¶çš„èµ„é‡‘æ€»æ•°ï¼Œé“¶è¡Œå®¶å¯ä»¥æ¥æ”¶å®¢æˆ·çš„è¦æ±‚ã€‚å®¢æˆ·è´·æ¬¾æ˜¯ä»¥æ¯æ¬¡ä¸€ä¸ªèµ„é‡‘å•ä½ï¼ˆå¦‚1ä¸‡RMBç­‰ï¼‰çš„æ–¹å¼è¿›è¡Œçš„ï¼Œå®¢æˆ·åœ¨å€Ÿæ»¡æ‰€éœ€çš„å…¨éƒ¨å•ä½æ¬¾é¢ä¹‹å‰å¯èƒ½ä¼šç­‰å¾…ï¼Œä½†é“¶è¡Œå®¶é¡»ä¿è¯è¿™ç§ç­‰å¾…æ˜¯æœ‰é™çš„ï¼Œå¯å®Œæˆçš„ã€‚</p>
<p>ä¾‹å¦‚ï¼šæœ‰ä¸‰ä¸ªå®¢æˆ·C1ï¼ŒC2ï¼ŒC3ï¼Œå‘é“¶è¡Œå®¶å€Ÿæ¬¾ï¼Œè¯¥é“¶è¡Œå®¶çš„èµ„é‡‘æ€»é¢ä¸º10ä¸ªèµ„é‡‘å•ä½ï¼Œå…¶ä¸­C1å®¢æˆ·è¦å€Ÿ9å„èµ„é‡‘å•ä½ï¼ŒC2å®¢æˆ·è¦å€Ÿ3ä¸ªèµ„é‡‘å•ä½ï¼ŒC3å®¢æˆ·è¦å€Ÿ8ä¸ªèµ„é‡‘å•ä½ï¼Œæ€»è®¡20ä¸ªèµ„é‡‘å•ä½ã€‚æŸä¸€æ—¶åˆ»çš„çŠ¶æ€å¦‚å›¾æ‰€ç¤ºã€‚</p>
<p><img src="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220319215638.png" alt="img" loading="lazy"></p>
<p>å¯¹äºaå›¾çš„çŠ¶æ€ï¼ŒæŒ‰ç…§å®‰å…¨åºåˆ—çš„è¦æ±‚ï¼Œæˆ‘ä»¬é€‰çš„ç¬¬ä¸€ä¸ªå®¢æˆ·åº”æ»¡è¶³è¯¥å®¢æˆ·æ‰€éœ€çš„è´·æ¬¾å°äºç­‰äºé“¶è¡Œå®¶å½“å‰æ‰€å‰©ä½™çš„é’±æ¬¾ï¼Œå¯ä»¥çœ‹å‡ºåªæœ‰C2å®¢æˆ·èƒ½è¢«æ»¡è¶³ï¼šC2å®¢æˆ·éœ€1ä¸ªèµ„é‡‘å•ä½ï¼Œå°é“¶è¡Œå®¶æ‰‹ä¸­çš„2ä¸ªèµ„é‡‘å•ä½ï¼Œäºæ˜¯é“¶è¡Œå®¶æŠŠ1ä¸ªèµ„é‡‘å•ä½å€Ÿç»™C2å®¢æˆ·ï¼Œä½¿ä¹‹å®Œæˆå·¥ä½œå¹¶å½’è¿˜æ‰€å€Ÿçš„3ä¸ªèµ„é‡‘å•ä½çš„é’±ï¼Œè¿›å…¥bå›¾ã€‚åŒç†ï¼Œé“¶è¡Œå®¶æŠŠ4ä¸ªèµ„é‡‘å•ä½å€Ÿç»™C3å®¢æˆ·ï¼Œä½¿å…¶å®Œæˆå·¥ä½œï¼Œåœ¨cå›¾ä¸­ï¼Œåªå‰©ä¸€ä¸ªå®¢æˆ·C1ï¼Œå®ƒéœ€7ä¸ªèµ„é‡‘å•ä½ï¼Œè¿™æ—¶é“¶è¡Œå®¶æœ‰8ä¸ªèµ„é‡‘å•ä½ï¼Œæ‰€ä»¥C1ä¹Ÿèƒ½é¡ºåˆ©å€Ÿåˆ°é’±å¹¶å®Œæˆå·¥ä½œã€‚æœ€åï¼ˆè§å›¾dï¼‰é“¶è¡Œå®¶æ”¶å›å…¨éƒ¨10ä¸ªèµ„é‡‘å•ä½ï¼Œä¿è¯ä¸èµ”æœ¬ã€‚é‚£éº½å®¢æˆ·åºåˆ—{C1ï¼ŒC2ï¼ŒC3}å°±æ˜¯ä¸ªå®‰å…¨åºåˆ—ï¼ŒæŒ‰ç…§è¿™ä¸ªåºåˆ—è´·æ¬¾ï¼Œé“¶è¡Œå®¶æ‰æ˜¯å®‰å…¨çš„ã€‚å¦åˆ™çš„è¯ï¼Œè‹¥åœ¨å›¾bçŠ¶æ€æ—¶ï¼Œé“¶è¡Œå®¶æŠŠæ‰‹ä¸­çš„4ä¸ªèµ„é‡‘å•ä½å€Ÿç»™äº†C1ï¼Œåˆ™å‡ºç°ä¸å®‰å…¨çŠ¶æ€ï¼šè¿™æ—¶C1ï¼ŒC3å‡ä¸èƒ½å®Œæˆå·¥ä½œï¼Œè€Œé“¶è¡Œå®¶æ‰‹ä¸­åˆæ²¡æœ‰é’±äº†ï¼Œç³»ç»Ÿé™·å…¥åƒµæŒå±€é¢ï¼Œé“¶è¡Œå®¶ä¹Ÿä¸èƒ½æ”¶å›æŠ•èµ„ã€‚</p>
<p>ç»¼ä¸Šæ‰€è¿°ï¼Œé“¶è¡Œå®¶ç®—æ³•æ˜¯ä»å½“å‰çŠ¶æ€å‡ºå‘ï¼Œé€ä¸ªæŒ‰å®‰å…¨åºåˆ—æ£€æŸ¥å„å®¢æˆ·è°èƒ½å®Œæˆå…¶å·¥ä½œï¼Œç„¶åå‡å®šå…¶å®Œæˆå·¥ä½œä¸”å½’è¿˜å…¨éƒ¨è´·æ¬¾ï¼Œå†è¿›è€Œæ£€æŸ¥ä¸‹ä¸€ä¸ªèƒ½å®Œæˆå·¥ä½œçš„å®¢æˆ·ï¼Œâ€¦â€¦ã€‚å¦‚æœæ‰€æœ‰å®¢æˆ·éƒ½èƒ½å®Œæˆå·¥ä½œï¼Œåˆ™æ‰¾åˆ°ä¸€ä¸ªå®‰å…¨åºåˆ—ï¼Œé“¶è¡Œå®¶æ‰æ˜¯å®‰å…¨çš„ã€‚</p>
<h1 id="æ¡ˆä¾‹ï¼šå¤šä»»åŠ¡ç‰ˆudpèŠå¤©å™¨"><a href="#æ¡ˆä¾‹ï¼šå¤šä»»åŠ¡ç‰ˆudpèŠå¤©å™¨" class="headerlink" title="æ¡ˆä¾‹ï¼šå¤šä»»åŠ¡ç‰ˆudpèŠå¤©å™¨"></a>æ¡ˆä¾‹ï¼šå¤šä»»åŠ¡ç‰ˆudpèŠå¤©å™¨</h1><p><img src="https://raw.githubusercontent.com/wushuai2000/PicGo/main/img/20220319215802.png" alt="img" loading="lazy"></p>
<h4 id="è¯´æ˜-3"><a href="#è¯´æ˜-3" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h4><blockquote>
<ul>
<li>ç¼–å†™ä¸€ä¸ªæœ‰2ä¸ªçº¿ç¨‹çš„ç¨‹åº</li>
<li>çº¿ç¨‹1ç”¨æ¥æ¥æ”¶æ•°æ®ç„¶åæ˜¾ç¤º</li>
<li>çº¿ç¨‹2ç”¨æ¥æ£€æµ‹é”®ç›˜æ•°æ®ç„¶åé€šè¿‡udpå‘é€æ•°æ®</li>
</ul>
</blockquote>
<h4 id="è¦æ±‚"><a href="#è¦æ±‚" class="headerlink" title="è¦æ±‚"></a>è¦æ±‚</h4><blockquote>
<ol>
<li>å®ç°ä¸Šè¿°è¦æ±‚</li>
<li>æ€»ç»“å¤šä»»åŠ¡ç¨‹åºçš„ç‰¹ç‚¹</li>
</ol>
</blockquote>
<h4 id="å‚è€ƒä»£ç "><a href="#å‚è€ƒä»£ç " class="headerlink" title="å‚è€ƒä»£ç :"></a>å‚è€ƒä»£ç :</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> socket
<span class="token keyword">import</span> threading


<span class="token keyword">def</span> <span class="token function">send_msg</span><span class="token punctuation">(</span>udp_socket<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""è·å–é”®ç›˜æ•°æ®ï¼Œå¹¶å°†å…¶å‘é€ç»™å¯¹æ–¹"""</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        <span class="token comment"># 1. ä»é”®ç›˜è¾“å…¥æ•°æ®</span>
        msg <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">"\nè¯·è¾“å…¥è¦å‘é€çš„æ•°æ®:"</span><span class="token punctuation">)</span>
        <span class="token comment"># 2. è¾“å…¥å¯¹æ–¹çš„ipåœ°å€</span>
        dest_ip <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">"\nè¯·è¾“å…¥å¯¹æ–¹çš„ipåœ°å€:"</span><span class="token punctuation">)</span>
        <span class="token comment"># 3. è¾“å…¥å¯¹æ–¹çš„port</span>
        dest_port <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">"\nè¯·è¾“å…¥å¯¹æ–¹çš„port:"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment"># 4. å‘é€æ•°æ®</span>
        udp_socket<span class="token punctuation">.</span>sendto<span class="token punctuation">(</span>msg<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>dest_ip<span class="token punctuation">,</span> dest_port<span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">recv_msg</span><span class="token punctuation">(</span>udp_socket<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""æ¥æ”¶æ•°æ®å¹¶æ˜¾ç¤º"""</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        <span class="token comment"># 1. æ¥æ”¶æ•°æ®</span>
        recv_msg <span class="token operator">=</span> udp_socket<span class="token punctuation">.</span>recvfrom<span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span>
        <span class="token comment"># 2. è§£ç </span>
        recv_ip <span class="token operator">=</span> recv_msg<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
        recv_msg <span class="token operator">=</span> recv_msg<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span>
        <span class="token comment"># 3. æ˜¾ç¤ºæ¥æ”¶åˆ°çš„æ•°æ®</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">">>>%s:%s"</span> <span class="token operator">%</span> <span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>recv_ip<span class="token punctuation">)</span><span class="token punctuation">,</span> recv_msg<span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 1. åˆ›å»ºå¥—æ¥å­—</span>
    udp_socket <span class="token operator">=</span> socket<span class="token punctuation">.</span>socket<span class="token punctuation">(</span>socket<span class="token punctuation">.</span>AF_INET<span class="token punctuation">,</span> socket<span class="token punctuation">.</span>SOCK_DGRAM<span class="token punctuation">)</span>
    <span class="token comment"># 2. ç»‘å®šæœ¬åœ°ä¿¡æ¯</span>
    udp_socket<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">,</span> <span class="token number">7890</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment"># 3. åˆ›å»ºä¸€ä¸ªå­çº¿ç¨‹ç”¨æ¥æ¥æ”¶æ•°æ®</span>
    t <span class="token operator">=</span> threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>recv_msg<span class="token punctuation">,</span> args<span class="token operator">=</span><span class="token punctuation">(</span>udp_socket<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    t<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># 4. è®©ä¸»çº¿ç¨‹ç”¨æ¥æ£€æµ‹é”®ç›˜æ•°æ®å¹¶ä¸”å‘é€</span>
    send_msg<span class="token punctuation">(</span>udp_socket<span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    main<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>





</div></section><div id="reward-container"><span class="hty-icon-button button-glow" id="reward-button" title="Donate" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === &quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-hand-coin-line"></use></svg></span><div id="reward-comment">æˆ‘å¾ˆå¯çˆ±ï¼Œè¯·ç»™æˆ‘é’±</div><div id="qr" style="display:none;"><div style="display:inline-block"><a href="/images/alipay-qrcode.jpg"><img loading="lazy" src="/images/alipay-qrcode.jpg" alt="æ”¯ä»˜å®" title="æ”¯ä»˜å®"></a><div><span style="color:#00A3EE"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-alipay-line"></use></svg></span></div></div><div style="display:inline-block"><a href="/images/qqpay-qrcode.jpg"><img loading="lazy" src="/images/qqpay-qrcode.jpg" alt="QQ æ”¯ä»˜" title="QQ æ”¯ä»˜"></a><div><span style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></span></div></div><div style="display:inline-block"><a href="/images/wechatpay-qrcode.jpg"><img loading="lazy" src="/images/wechatpay-qrcode.jpg" alt="å¾®ä¿¡æ”¯ä»˜" title="å¾®ä¿¡æ”¯ä»˜"></a><div><span style="color:#2DC100"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-wechat-pay-line"></use></svg></span></div></div></div></div><ul class="post-copyright"><li class="post-copyright-author"><strong>Post author: </strong>Explorer</li><li class="post-copyright-link"><strong>Post link: </strong><a href="http://ccsu.top/posts/a4da6e72/" title="Pythonå¤šä»»åŠ¡-çº¿ç¨‹">http://ccsu.top/posts/a4da6e72/</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> unless otherwise stated.</li></ul></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/posts/b23c6bbe/" rel="prev" title="Pythonå¤šä»»åŠ¡-è¿›ç¨‹"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">Pythonå¤šä»»åŠ¡-è¿›ç¨‹</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/posts/65cd929b/" rel="next" title="PythonåŸºç¡€"><span class="post-nav-text">PythonåŸºç¡€</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div class="hty-card" id="comment"><div id="waline"></div><script src="/js/comments/waline.js" type="module" defer></script></div></main><footer class="sidebar-translate" id="footer"><div class="beian"><a rel="noopener" href="https://beian.miit.gov.cn/" target="_blank">çš–ICPå¤‡20002891å·-2</a></div><div class="copyright"><span>&copy; 2016 â€“ 2022 </span><span class="with-love" id="animate" title="èµåŠ©è€…ä»¬"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> Explorer</span></div><div class="powered"><span>Powered by <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> v6.0.0</span><span class="footer-separator">|</span><span>Theme - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.8.8</span></div><div class="live-time"><span>æœ¬åšå®¢å·²èŒèŒå“’åœ°è¿è¡Œ</span><span id="display_live_time"></span><span class="moe-text">(â—'â—¡'â—)</span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2022-02-12T00:00:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = ` ${passDay} Days ${passHour} Hours ${passMinute} Minutes ${passSecond} Seconds`;
}
blog_live_time();
</script></div><div id="busuanzi"><span id="busuanzi_container_site_pv" title="Total Views"><span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg></span><span id="busuanzi_value_site_pv"></span></span><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#6200ee" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="Search"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search-line"></use></svg></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script src="/js/search/local-search.js" defer type="module"></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-close-line"></use></svg></span></div><div class="search-input-container"><input class="search-input" id="local-search-input" type="text" placeholder="Searching..." value=""></div><div id="local-search-result"></div></div><script>function initMourn() {
  const date = new Date();
  const today = (date.getMonth() + 1) + "-" + date.getDate()
  const mourn_days = ["4-4","9-18"]
  if (mourn_days.includes(today)) {
    document.documentElement.style.filter = "grayscale(1)";
  }
}
initMourn();</script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"right","width":150,"height":350,"hOffset":null,"vOffset":null},"mobile":{"show":true},"log":false});</script></body></html>